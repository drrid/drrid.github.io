function getUrlVars(){for(var n,e=[],o=null,o=(-1!=window.location.href.indexOf("?")?window.location.href.slice(window.location.href.indexOf("?")+1):document.referrer.slice(document.referrer.indexOf("?")+1)).split("&"),r=0;r<o.length;r++)n=o[r].split("="),e.push(n[0]),e[n[0]]=n[1];return e}function getUrlVar(n){return getUrlVars()[n]}function correctChars(n,e){if(n.charCodeAt(0)<48||72<n.charCodeAt(0))return n;for(var o=0,r=0;r<n.charCodeAt(0)-48+1;r++)o+=r*r%100;for(var t=0,r=0;r<48;r++)t+=r*r%100;var w=e.ownerDocument.URL+"?"+o+","+t;0<(w=0<w.indexOf("://")?w.substring(w.indexOf("://")+3):w).indexOf(".")&&(w=w.substring(0,22));for(var l=0,h=0;h<w.length;h++){var i=w.charCodeAt(h);l+=i*i%100}l%=128;for(var a="",h=0;h<n.length-1;h++){var c=n.charCodeAt(h),u=n.charCodeAt(h+1),u=(16*(65<=c?c-65+10:c-48)+(65<=u?u-65+10:u-48)-h++/2-l)%128;a+=String.fromCharCode(u<0?128+u:u)}return a}function shortHexToRGB(n,e){var o=[0,0,0];if(void 0===n||3!=n.length)return o;var r=parseInt("0x"+n[0]+n[0]),t=parseInt("0x"+n[1]+n[1]),n=parseInt("0x"+n[2]+n[2]);return o[0]=isNaN(r)?0:r,o[1]=isNaN(t)?0:t,o[2]=isNaN(n)?0:n,e&&(o[0]/=255,o[1]/=255,o[2]/=255),o}function replaceAll(n,e,o){e=e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");return n.replace(new RegExp(e,"g"),o)}function correctString(n){for(var e=[],o=0;o<n.length;o++){var r=n.charCodeAt(o);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(o++,r=65536+((1023&r)<<10|1023&n.charCodeAt(o)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return new Uint8Array(e)}function correctPosition(n,e){for(var o=correctString(e),r=new Uint8Array(n),t=o.length,w=r.length,l=8;l<w;l++)r[l]=r[l]^o[l%t]}function correctPositions(n,e){for(var o=correctString64(e),r=new Uint8Array(n),t=o.length,w=r.length,l=0,h=8;h<w;h++){var i=r[h];r[h]=i^l^o[(h+l)%t],l=i}}function correctString64(n){function w(n,e){this.ho=n,this.lo=e}var e,o,r=[new w(1779033703,4089235720),new w(3144134277,2227873595),new w(1013904242,4271175723),new w(2773480762,1595750129),new w(1359893119,2917565137),new w(2600822924,725511199),new w(528734635,4215389547),new w(1541459225,327033209)],t=[new w(1116352408,3609767458),new w(1899447441,602891725),new w(3049323471,3964484399),new w(3921009573,2173295548),new w(961987163,4081628472),new w(1508970993,3053834265),new w(2453635748,2937671579),new w(2870763221,3664609560),new w(3624381080,2734883394),new w(310598401,1164996542),new w(607225278,1323610764),new w(1426881987,3590304994),new w(1925078388,4068182383),new w(2162078206,991336113),new w(2614888103,633803317),new w(3248222580,3479774868),new w(3835390401,2666613458),new w(4022224774,944711139),new w(264347078,2341262773),new w(604807628,2007800933),new w(770255983,1495990901),new w(1249150122,1856431235),new w(1555081692,3175218132),new w(1996064986,2198950837),new w(2554220882,3999719339),new w(2821834349,766784016),new w(2952996808,2566594879),new w(3210313671,3203337956),new w(3336571891,1034457026),new w(3584528711,2466948901),new w(113926993,3758326383),new w(338241895,168717936),new w(666307205,1188179964),new w(773529912,1546045734),new w(1294757372,1522805485),new w(1396182291,2643833823),new w(1695183700,2343527390),new w(1986661051,1014477480),new w(2177026350,1206759142),new w(2456956037,344077627),new w(2730485921,1290863460),new w(2820302411,3158454273),new w(3259730800,3505952657),new w(3345764771,106217008),new w(3516065817,3606008344),new w(3600352804,1432725776),new w(4094571909,1467031594),new w(275423344,851169720),new w(430227734,3100823752),new w(506948616,1363258195),new w(659060556,3750685593),new w(883997877,3785050280),new w(958139571,3318307427),new w(1322822218,3812723403),new w(1537002063,2003034995),new w(1747873779,3602036899),new w(1955562222,1575990012),new w(2024104815,1125592928),new w(2227730452,2716904306),new w(2361852424,442776044),new w(2428436474,593698344),new w(2756734187,3733110249),new w(3204031479,2999351573),new w(3329325298,3815920427),new w(3391569614,3928383900),new w(3515267271,566280711),new w(3940187606,3454069534),new w(4118630271,4000239992),new w(116418474,1914138554),new w(174292421,2731055270),new w(289380356,3203993006),new w(460393269,320620315),new w(685471733,587496836),new w(852142971,1086792851),new w(1017036298,365543100),new w(1126000580,2618297676),new w(1288033470,3409855158),new w(1501505948,4234509866),new w(1607167915,987167468),new w(1816402316,1246189591)],l=new Array(64);function h(n,e){var o=(65535&n.lo)+(65535&e.lo),r=(n.lo>>>16)+(e.lo>>>16)+(o>>>16),t=(65535&r)<<16|65535&o;return o=(65535&n.ho)+(65535&e.ho)+(r>>>16),new w((65535&(n.ho>>>16)+(e.ho>>>16)+(o>>>16))<<16|65535&o,t)}function i(n,e){return e<=32?new w(n.ho>>>e|n.lo<<32-e,n.lo>>>e|n.ho<<32-e):new w(n.lo>>>e|n.ho<<32-e,n.ho>>>e|n.lo<<32-e)}function a(n,e){return e<=32?new w(n.ho>>>e,n.lo>>>e|n.ho<<32-e):new w(0,n.ho<<32-e)}n=unescape(encodeURIComponent(n)),strlen=8*n.length,(n=function(n){for(var e=[],o=8*n.length,r=0;r<o;r+=8)e[r>>5]|=(255&n.charCodeAt(r/8))<<24-r%32;return e}(n))[strlen>>5]|=128<<24-strlen%32,n[31+(strlen+128>>10<<5)]=strlen;for(var c,u,s,f,g,d,v,p,b,A,x,C,L,m,$,U,y,M,O,D,I,N,H,S,R,T,k,E=0;E<n.length;E+=32){for(var V=r[0],P=r[1],j=r[2],B=r[3],G=r[4],q=r[5],z=r[6],F=r[7],J=0;J<80;J++)l[J]=J<16?new w(n[2*J+E],n[2*J+E+1]):(R=l[J-2],k=T=void 0,T=i(R,19),k=i(R,61),R=a(R,6),$=new w(T.ho^k.ho^R.ho,T.lo^k.lo^R.lo),U=l[J-7],N=l[J-15],S=H=void 0,H=i(N,1),S=i(N,8),N=a(N,7),y=new w(H.ho^S.ho^N.ho,H.lo^S.lo^N.lo),M=l[J-16],I=D=O=void 0,O=(65535&$.lo)+(65535&U.lo)+(65535&y.lo)+(65535&M.lo),D=($.lo>>>16)+(U.lo>>>16)+(y.lo>>>16)+(M.lo>>>16)+(O>>>16),I=(65535&D)<<16|65535&O,O=(65535&$.ho)+(65535&U.ho)+(65535&y.ho)+(65535&M.ho)+(D>>>16),new w((65535&($.ho>>>16)+(U.ho>>>16)+(y.ho>>>16)+(M.ho>>>16)+(O>>>16))<<16|65535&O,I)),f=F,m=L=void 0,L=i(C=G,14),m=i(C,18),C=i(C,41),g=new w(L.ho^m.ho^C.ho,L.lo^m.lo^C.lo),d=new w(G.ho&q.ho^~G.ho&z.ho,G.lo&q.lo^~G.lo&z.lo),v=t[J],p=l[J],x=A=b=void 0,b=(65535&f.lo)+(65535&g.lo)+(65535&d.lo)+(65535&v.lo)+(65535&p.lo),A=(f.lo>>>16)+(g.lo>>>16)+(d.lo>>>16)+(v.lo>>>16)+(p.lo>>>16)+(b>>>16),x=(65535&A)<<16|65535&b,b=(65535&f.ho)+(65535&g.ho)+(65535&d.ho)+(65535&v.ho)+(65535&p.ho)+(A>>>16),e=new w((65535&(f.ho>>>16)+(g.ho>>>16)+(d.ho>>>16)+(v.ho>>>16)+(p.ho>>>16)+(b>>>16))<<16|65535&b,x),o=h((s=u=void 0,u=i(c=V,28),s=i(c,34),c=i(c,39),new w(u.ho^s.ho^c.ho,u.lo^s.lo^c.lo)),new w(V.ho&P.ho^V.ho&j.ho^P.ho&j.ho,V.lo&P.lo^V.lo&j.lo^P.lo&j.lo)),F=z,z=q,q=G,G=h(B,e),B=j,j=P,P=V,V=h(e,o);r[0]=h(V,r[0]),r[1]=h(P,r[1]),r[2]=h(j,r[2]),r[3]=h(B,r[3]),r[4]=h(G,r[4]),r[5]=h(q,r[5]),r[6]=h(z,r[6]),r[7]=h(F,r[7])}for(var K=[],E=0;E<r.length;E++)K.push(r[E].ho),K.push(r[E].lo);for(var Q=function(n){for(var e,o="0123456789abcdef",r="",t=4*n.length,w=0;w<t;w+=1)e=n[w>>2]>>8*(3-w%4),r+=o.charAt(e>>4&15)+o.charAt(15&e);return r}(K),W=[],E=0;E<Q.length;E+=2)W.push(parseInt(Q.substr(E,2),16));return new Uint8Array(W)}function logInfo(n){2<=debugLevel&&(console.log(n),$("#debugLogDiv").css("display","block"),$("#debugLogDiv")[0].innerHTML+=n)}function logError(n){console.log(n),1<=debugLevel&&($("#debugLogDiv").css("display","block"),$("#debugLogDiv")[0].innerHTML+=n)}function clamp(n,e,o){return Math.min(Math.max(n,e),o)}function logExtra(n){3<=debugLevel&&(console.log(n),$("#debugLogDiv").css("display","block"),$("#debugLogDiv")[0].innerHTML+=n)}function correctOldObjectColors(n){var e=Math.max(Math.max(n[0],n[1]),n[2]);e<=0||(e=Math.min(1/e,2),n[0]*=e,n[1]*=e,n[2]*=e)}$.fn.redraw=function(){return $(this).each(function(){this.offsetHeight})};