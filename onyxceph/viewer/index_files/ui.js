function updateModelDOM(){if($("#objectList").empty(),0!==activeModel.objects.length){activeModel.selectedObjects=[];for(var e=0;e<activeModel.objects.length;++e)$("#objectList").append('<input type="checkbox" id="obj'+String(e)+'" /><label id="lblObj'+String(e)+'">'+activeModel.objects[e].objectName+"</label><br/>"),$("#objectList input[type='checkbox']").last().prop("checked",activeModel.objects[e].isVisible);$("#objectListFooter").text(activeModel.selectedObjects.length.toString()+" object(s) selected"),$("#objectList label").first().addClass("active"),$("#optViewShader > select[name='shaderSel']").empty(),$("#optViewShader > select[name='shaderSel']").append("<option value='simple'>Simple</option>"),1<activeModel.version&&$("#optViewShader > select[name='shaderSel']").append("<option value='advanced1'>Advanced</option>"),$("#optViewShader > select[name='shaderSel']").val(glScene.selectedShader),updateShader(),setViewOption($("#optViewSpecular"),activeModel.specular),setViewOption($("#optViewBrightness"),activeModel.brightness),setViewOption($("#optViewSoftFocus"),activeModel.softFocus),addActiveObject(0),$("#objectList").on("click","label",function(e){var t=activeModel.lastSelectedObject,a=activeModel.lastSelectedObjectShift;0==e.ctrlKey&&0==e.shiftKey?($("#objectList label").removeClass("active"),activeModel.selectedObjects=[]):1==e.shiftKey&&null!==t&&(t.index()<$(this).index()?t.nextUntil($(this),"label").each(function(){$(this).addClass("active"),addActiveObject(Number(this.id.substring(6)))}):t.index()>$(this).index()&&t.prevUntil($(this),"label").each(function(){$(this).addClass("active"),addActiveObject(Number(this.id.substring(6)))}),null!==a&&(t.index()<=a.index()&&a.index()<=$(this).index()||(t.index()<=$(this).index()&&$(this).index()<=a.index()?$(this).nextUntil(a,"label").add(a).each(function(){$(this).removeClass("active"),remActiveObject(Number(this.id.substring(6)))}):$(this).index()<=t.index()&&t.index()<=a.index()?t.nextUntil(a,"label").add(a).each(function(){$(this).removeClass("active"),remActiveObject(Number(this.id.substring(6)))}):$(this).index()<=a.index()&&a.index()<=t.index()||(a.index()<=$(this).index()&&$(this).index()<=t.index()?$(this).prevUntil(a,"label").add(a).each(function(){$(this).removeClass("active"),remActiveObject(Number(this.id.substring(6)))}):a.index()<=t.index()&&t.index()<=$(this).index()&&t.prevUntil(a,"label").add(a).each(function(){$(this).removeClass("active"),remActiveObject(Number(this.id.substring(6)))}))))),1==e.ctrlKey&&$(this).hasClass("active")?($(this).removeClass("active"),remActiveObject(Number(this.id.substring(6)))):($(this).addClass("active"),addActiveObject(Number(this.id.substring(6)))),0==e.shiftKey?(activeModel.lastSelectedObject=$(this),activeModel.lastSelectedObjectShift=null):activeModel.lastSelectedObjectShift=$(this)}),$("#objectList").on("click","input[type='checkbox']",function(){toggleObjectVisibility(this.id.substring(3))})}}function addActiveObject(e){if(0<=e&&e<activeModel.objects.length){-1===activeModel.selectedObjects.indexOf(e)&&activeModel.selectedObjects.push(e),setColor($("#optObjFColor"),activeModel.objects[e].faceColor.RGB),setColor($("#optObjBColor"),activeModel.objects[e].backColor.RGB);for(var t=activeModel.objects[activeModel.selectedObjects[0]].useFaceColor,a="Color:",i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].useFaceColor!==t){a+=" (*):";break}$("#optObjFColor input[type='checkbox']").text(a),$("#optObjFColor input[type='checkbox']").prop("checked",activeModel.objects[e].useFaceColor);for(t=activeModel.objects[activeModel.selectedObjects[0]].useBackColor,a="Back Color:",i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].useBackColor!==t){a+=" (*):";break}$("#optObjBColor input[type='checkbox']").text(a),$("#optObjBColor input[type='checkbox']").prop("checked",activeModel.objects[e].useBackColor),t=activeModel.objects[activeModel.selectedObjects[0]].doClip,a="Clip Object";for(i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].doClip!==t){a+=" (*):";break}$("#optObjClipObject input[type='checkbox']").text(a),$("#optObjClipObject input[type='checkbox']").prop("checked",activeModel.objects[e].doClip),t=activeModel.objects[activeModel.selectedObjects[0]].useTexture,a="Use Texture (if available)";for(i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].useTexture!==t){a+=" (*):";break}$("#optObjUseTexture input[type='checkbox']").text(a),null===activeModel.objects[e].texture.image&&-1===activeModel.objects[e].objectParts[0].vertexColors.id?($("#optObjUseTexture input[type='checkbox']").prop("checked",!1),$("#optObjUseTexture input[type='checkbox']").prop("disabled",!0)):($("#optObjUseTexture input[type='checkbox']").prop("disabled",!1),$("#optObjUseTexture input[type='checkbox']").prop("checked",activeModel.objects[e].useTexture)),t=activeModel.objects[activeModel.selectedObjects[0]].opacity,a="Transparency:";for(i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].opacity!==t){a+=" (*):";break}$("#optObjTransparency span").text(a),$("#optObjTransparency input[type='range']").val(Math.round(100*(1-activeModel.objects[e].opacity))),t=activeModel.objects[activeModel.selectedObjects[0]].axisRot,a="Rotation:";for(i=1;i<activeModel.selectedObjects.length;++i)if(activeModel.objects[activeModel.selectedObjects[i]].axisRot!==t){a+=" (*):";break}$("#optObjRotation span").text(a),$("#optObjRotation input[type='range']").val(activeModel.objects[e].axisRot),$("#objectListFooter").text(activeModel.selectedObjects.length.toString()+" object(s) selected")}}function remActiveObject(e){0<=e&&e<activeModel.objects.length&&(-1!==(e=activeModel.selectedObjects.indexOf(e))&&activeModel.selectedObjects.splice(e,1),0<activeModel.selectedObjects.length&&addActiveObject(activeModel.selectedObjects[0]))}function unselectObjects(){activeModel.selectedObjects=[],$("#objectList label").removeClass("active")}function updateObjectListVisibility(){for(var e=0;e<activeModel.objects.length;++e)$("#obj"+String(e)).prop("checked",activeModel.objects[e].isVisible)}function setSceneOptions(e){!0===e?($("#showSceneInfo").text(">"),isIOS?($("#sceneInfo").css("display","block"),$("#sceneInfoWrapper").css("width","285px")):$("#sceneInfoWrapper").css("right",0),glScene.showSceneOptions=!0,unselectObjects(),updateObjectListVisibility()):($("#showSceneInfo").text("<"),isIOS?($("#sceneInfo").css("display","none"),$("#sceneInfoWrapper").css("width","17px")):$("#sceneInfoWrapper").css("right",-270),glScene.showSceneOptions=!1)}function setColor(e,t){$("input[type='number']",e).spectrum("set",{r:255*t[0],g:255*t[1],b:255*t[2]})}function setViewOption(e,t){$("input[type='range']",e).val(Math.round(100*t-50))}function toggleObjectVisibility(e){activeModel.objects[e].isVisible=!activeModel.objects[e].isVisible,$("#obj"+String(e)).prop("checked",activeModel.objects[e].isVisible),renderFrame()}function setActiveObjectTransparency(e){var t=1-e;$("#optObjTransparency input[type='range']").val(Math.round(100*e));for(var a=0;a<activeModel.selectedObjects.length;++a){activeModel.objects[activeModel.selectedObjects[a]].opacity;activeModel.objects[activeModel.selectedObjects[a]].opacity=t}renderFrame()}function setActiveObjectUseFColor(e){for(var t=0;t<activeModel.selectedObjects.length;++t)activeModel.objects[activeModel.selectedObjects[t]].useFaceColor=e;$("#optObjFColor input[type='checkbox']").prop("checked",e),renderFrame()}function setActiveObjectUseBColor(e){for(var t=0;t<activeModel.selectedObjects.length;++t)activeModel.objects[activeModel.selectedObjects[t]].useBackColor=e;$("#optObjBColor input[type='checkbox']").prop("checked",e),renderFrame()}function setActiveObjectUseTexture(e){for(var t=0;t<activeModel.selectedObjects.length;++t)activeModel.objects[activeModel.selectedObjects[t]].useTexture=e;$("#optObjUseTexture input[type='checkbox']").prop("checked",e),renderFrame()}function setActiveObjectDoClip(e){for(var t=0;t<activeModel.selectedObjects.length;++t)activeModel.objects[activeModel.selectedObjects[t]].doClip=e;$("#optObjClipObject input[type='checkbox']").prop("checked",e),renderFrame()}function onResize(){isIOS?(canvas.width=window.innerWidth-10,canvas.height=window.innerHeight-10):document.fullscreenElement?(canvas.width=screen.width,canvas.height=screen.height):(canvas.width=window.innerWidth,canvas.height=window.innerHeight);var e=$("#wglCanvas").offset();glScene.canvasMidX=e.left+.5*canvas.width,glScene.canvasMidY=e.top+.5*canvas.height,$("#canvasCenter").offset({top:glScene.canvasMidY-$("#canvasCenter").outerHeight()/2,left:glScene.canvasMidX-$("#canvasCenter").outerWidth()/2}),renderFrame()}function handleMouseDown(e){if($("#canvasContainer").toggleClass("unselectable",!0),glScene.mouseDown=!0,glScene.lastMouseX=e.clientX,glScene.lastMouseY=e.clientY,0===e.button){var t=$("#canvasCenter").outerWidth();return glScene.lastMouseX>=glScene.canvasMidX-t/2&&glScene.lastMouseX<=glScene.canvasMidX+t/2&&glScene.lastMouseY>=glScene.canvasMidY-t/2&&glScene.lastMouseY<=glScene.canvasMidY+t/2?($("#canvasContainer").css("cursor","url('./pics/move_3D.cur'), auto"),glScene.controlMode="translation"):(glScene.lastMouseX<50||glScene.lastMouseX>canvas.width-50?($("#canvasContainer").css("cursor","url('./pics/resize_3D.cur'), auto"),glScene.controlMode="scaling"):Math.sqrt((glScene.lastMouseX-glScene.canvasMidX)*(glScene.lastMouseX-glScene.canvasMidX)+(glScene.lastMouseY-glScene.canvasMidY)*(glScene.lastMouseY-glScene.canvasMidY))<.45*Math.min(canvas.height,canvas.width)?($("#canvasContainer").css("cursor","url('./pics/rotYX_3D.cur'), auto"),glScene.controlMode="rotationYX"):($("#canvasContainer").css("cursor","url('./pics/rotZ_3D.cur'), auto"),glScene.controlMode="rotationZ"),glScene.oNavigation.show=!0),null!==activeModel.animationPlayback&&activeModel.animationPlayback.playing||startRenderLoop(),!1}if(1===e.button)return $("#canvasContainer").css("cursor","url('./pics/move_3D.cur'), auto"),glScene.controlMode="translation",null!==activeModel.animationPlayback&&activeModel.animationPlayback.playing||startRenderLoop(),!1}function handleMouseUp(e){glScene.mouseDown=!1,$("#canvasContainer").toggleClass("unselectable",!1),$("#canvasContainer").css("cursor",""),glScene.oNavigation.show=!1,stopRenderLoop(),renderFrame()}function handleMouseMove(e){var t,a,i,o,n,l,c;glScene.mouseDown&&(t=e.clientX,a=e.clientY,"rotationYX"===glScene.controlMode||"rotationZ"===glScene.controlMode?(l=(t-glScene.lastMouseX)/360,c=(a-glScene.lastMouseY)/360,n=mat4.create(),"rotationYX"===glScene.controlMode?(mat4.identity(n),mat4.rotate(n,n,l,[0,1,0]),mat4.multiply(glScene.rotMatrix,n,glScene.rotMatrix),mat4.identity(n),mat4.rotate(n,n,c,[1,0,0])):(mat4.identity(n),glScene.lastMouseY>glScene.canvasMidY&&(l=-l),glScene.lastMouseX<glScene.canvasMidX?mat4.rotate(n,n,c-l,[0,0,1]):mat4.rotate(n,n,c+l,[0,0,-1])),mat4.multiply(glScene.rotMatrix,n,glScene.rotMatrix)):"translation"===glScene.controlMode?(i=vec4.fromValues(glScene.lastMouseX,glScene.lastMouseY,0,1),o=vec4.fromValues(t,a,0,1),i[0]=i[0]/canvas.width*2-1,i[1]=i[1]/-canvas.height*2-1,o[0]=o[0]/canvas.width*2-1,o[1]=o[1]/-canvas.height*2-1,e=getCameraProjectionMatrix(),n=getCameraViewMatrix(),mat4.invert(e,e),mat4.invert(n,n),vec4.transformMat4(i,i,e),0!=i[3]&&vec4.scale(i,i,1/i[3]),vec4.transformMat4(o,o,e),0!=o[3]&&vec4.scale(o,o,1/o[3]),vec4.transformMat4(i,i,n),vec4.transformMat4(o,o,n),glScene.translVec[0]+=o[0]-i[0],glScene.translVec[1]+=o[1]-i[1],glScene.translVec[2]+=o[2]-i[2]):"scaling"===glScene.controlMode&&(l=-(t-glScene.lastMouseX),c=-(a-glScene.lastMouseY),glScene.zoomFactor+=.001*(l+c),glScene.zoomFactor<.1&&(glScene.zoomFactor=.1),10<glScene.zoomFactor&&(glScene.zoomFactor=10)),glScene.lastMouseX=t,glScene.lastMouseY=a)}function handleMouseWheel(e){var t=0;(e=e||window.event).wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&(glScene.zoomFactor*=0<t?1.111:.9,glScene.zoomFactor<.1&&(glScene.zoomFactor=.1),10<glScene.zoomFactor&&(glScene.zoomFactor=10)),e.preventDefault&&e.preventDefault(),e.returnValue=!1,renderFrame()}function initTouch(e){void 0!==e&&(e.addEventListener("touchstart",touchHandler,!0),e.addEventListener("touchmove",touchHandler,!0),e.addEventListener("touchend",touchHandler,!0),e.addEventListener("touchcancel",touchHandler,!0))}function touchHandler(e){var t=e.changedTouches[0],a="";switch(e.type){case"touchstart":a="mousedown";break;case"touchmove":a="mousemove";break;case"touchend":a="mouseup";break;default:return}var i=document.createEvent("MouseEvent");i.initMouseEvent(a,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i),e.preventDefault()}function initNavBar(){var e="stroke='none' fill='"+viewerSettings.frontColorStr+"'";$("#canvasContainer").append("<div id='navIconContainer' style='overflow:visible;position:absolute;width:4rem;height:4rem;top:40vh;left:1rem;cursor:none'> </div>");var t="<svg xmlns='http://www.w3.org/2000/svg' id='viewUpperBtn' style='position:absolute;width:4rem;height:4rem;top:-200%;left:0;cursor:pointer' viewBox='17.513311 -50.162562 135.43625 133.15872'>  <path "+e+" d='M 27.537401,47.858537 C 23.298628,47.126832 19.907168,44.336428 18.208259,40.182769 L 17.615527,38.733599 L 17.541208,19.37514 C 17.457483,-2.433557 17.438893,-2.174304 19.368878,-6.113275 C 21.432277,-10.324534 25.724297,-13.722187 30.447818,-14.883596 C 32.608238,-15.414795 137.82489,-15.414795 139.98531,-14.883596 C 144.70904,-13.722136 149.00118,-10.324312 151.064,-6.113275 C 152.97479,-2.212591 152.94016,-2.709271 152.94513,20.874224 L 152.94956,41.908599 L 151.74206,43.446738 C 150.38854,45.170877 147.98227,46.85813 145.95803,47.502437 C 144.16532,48.073051 135.03878,48.321587 132.37526,47.872327 C 130.11858,47.491687 127.71523,46.396673 126.26922,45.090284 L 125.19773,44.122259 L 123.86164,45.17838 C 122.0667,46.597195 120.0533,47.51415 118.0021,47.846964 C 115.82654,48.199956 108.35511,48.20339 106.11864,47.852425 C 104.08437,47.53319 101.66317,46.417569 100.09937,45.07891 L 98.974894,44.116321 L 97.850424,45.080122 C 96.387334,46.334141 93.950384,47.479842 91.980994,47.839553 C 89.97825,48.205356 82.174799,48.208314 79.930032,47.84412 C 77.869856,47.509875 75.439529,46.394839 73.905628,45.080122 L 72.781149,44.116321 L 71.65667,45.07891 C 70.091861,46.418435 67.684507,47.524379 65.552,47.883411 C 64.406195,48.076318 61.845097,48.14034 58.540542,48.058679 C 52.425376,47.907565 51.052461,47.55836 48.258077,45.443297 L 46.55446,44.153834 L 45.314159,45.18541 C 42.435616,47.579537 40.203529,48.127981 33.490526,48.090593 C 30.871151,48.076004 28.192245,47.971578 27.537401,47.858537 Z M 40.644304,40.84618 C 41.582418,40.265748 42.135245,39.66272 42.673096,38.633155 C 43.401318,37.239179 43.4124,37.147742 43.4124,32.5337 C 43.4124,27.220891 43.143173,25.855466 41.652881,23.610063 C 37.900001,17.955643 29.296557,17.961836 25.538642,23.621665 C 24.036934,25.8834 23.833235,26.9408 23.833235,32.474407 C 23.833235,37.998504 24.085989,38.994295 25.844227,40.397225 C 27.42414,41.657869 28.054344,41.759649 33.909129,41.699739 L 39.354816,41.644015 Z M 65.18161,41.495814 C 66.482224,41.134632 67.977565,39.80518 68.58354,38.471286 C 68.994006,37.567749 69.066222,36.675027 69.071172,32.443136 C 69.077625,26.925878 68.837127,25.731058 67.258208,23.436177 C 65.627956,21.06669 62.208767,19.286724 59.2874,19.286724 C 56.263183,19.286724 52.994135,21.038343 51.26749,23.583944 C 49.639819,25.983624 49.45465,26.981051 49.547818,32.847168 L 49.630108,38.028444 L 50.425496,39.17477 C 50.945908,39.924798 51.716935,40.572641 52.655751,41.048703 C 54.072375,41.767054 54.154785,41.776288 59.136405,41.774831 C 61.911587,41.774021 64.63193,41.648463 65.18161,41.495814 Z M 91.848214,41.048703 C 92.787034,40.572641 93.558054,39.924798 94.078464,39.17477 L 94.873854,38.028444 L 94.956144,32.847168 C 95.049314,26.981051 94.864144,25.983624 93.236474,23.583944 C 91.50983,21.038343 88.240781,19.286724 85.216565,19.286724 C 82.192349,19.286724 78.9233,21.038343 77.196656,23.583944 C 75.568984,25.983624 75.383815,26.981051 75.476983,32.847168 L 75.559274,38.028444 L 76.354662,39.17477 C 76.875073,39.924798 77.646101,40.572641 78.584916,41.048703 C 80.005483,41.769055 80.071586,41.776307 85.216565,41.776307 C 90.361544,41.776307 90.427647,41.769055 91.848214,41.048703 Z M 117.77738,41.048703 C 118.71619,40.572641 119.48722,39.924798 120.00763,39.17477 L 120.80302,38.028444 L 120.88531,32.847168 C 120.97848,26.981051 120.79331,25.983624 119.16564,23.583944 C 117.43899,21.038343 114.16994,19.286724 111.14573,19.286724 C 108.1185,19.286724 104.60066,21.192288 103.00815,23.694725 C 101.49246,26.076448 101.31474,27.091827 101.40614,32.847168 L 101.48844,38.028444 L 102.28382,39.17477 C 102.80423,39.924798 103.57526,40.572641 104.51408,41.048703 C 105.93464,41.769055 106.00075,41.776307 111.14573,41.776307 C 116.29071,41.776307 116.35681,41.769055 117.77738,41.048703 Z M 143.70654,41.048703 C 144.64677,40.571921 145.4156,39.925475 145.9368,39.173447 L 146.73218,38.025796 V 32.426573 C 146.73218,27.60329 146.66493,26.663056 146.24687,25.641807 C 145.09075,22.81757 142.57295,20.519391 139.73885,19.701469 C 135.65467,18.522772 131.19563,20.222873 128.8491,23.853416 C 127.43844,26.035972 127.22645,27.324396 127.3294,33.089402 L 127.4176,38.028534 L 128.21299,39.174818 C 128.73337,39.924774 129.50448,40.572667 130.44324,41.048703 C 131.86381,41.769055 131.92991,41.776307 137.07489,41.776307 C 142.21987,41.776307 142.28597,41.769055 143.70654,41.048703 Z M 51.669564,15.234588 C 54.214353,13.724979 56.547568,13.103388 59.684275,13.09939 C 64.12819,13.093726 67.873652,14.626795 70.916138,17.696745 L 72.623,19.419016 L 74.524047,17.525213 C 77.581439,14.479468 81.0984,13.074197 85.61344,13.094223 C 89.796915,13.112781 93.602604,14.707472 96.607154,17.700899 L 98.340454,19.427779 L 99.597934,18.04576 C 101.29065,16.185406 103.69156,14.658374 106.25093,13.814297 C 108.92062,12.933843 112.76408,12.829153 115.24677,13.569269 C 117.90973,14.363128 120.39926,15.822011 122.2969,17.700714 L 124.05537,19.441627 L 125.25868,18.076798 C 126.87701,16.241249 129.04513,14.850691 131.77154,13.899678 C 133.69246,13.229632 134.42979,13.110606 136.67802,13.107632 C 138.13323,13.105709 139.85963,13.257527 140.51447,13.445005 C 141.9441,13.854305 144.54687,15.055103 145.7562,15.863294 L 146.63229,16.448788 L 146.54995,7.482861 L 146.4676,-1.483066 L 145.6145,-3.226438 C 144.11897,-6.282679 141.22011,-8.442402 137.83918,-9.019236 C 136.64794,-9.22248 120.7591,-9.285243 84.02594,-9.231807 L 31.903026,-9.155983 L 30.135713,-8.318703 C 27.81418,-7.218858 26.14099,-5.640325 25.138702,-3.60439 C 24.19215,-1.681669 24.207872,-1.912758 24.298157,8.750235 L 24.362401,16.337702 L 25.867816,15.43119 C 32.286276,11.566194 40.099823,12.479072 45.245264,17.69511 L 46.945837,19.419016 L 48.475345,17.820568 C 49.316575,16.941421 50.753974,15.77773 51.669564,15.234588 Z'></path></svg>";$("#navIconContainer").append(t);t="<svg xmlns='http://www.w3.org/2000/svg' id='viewFrontBtn' style='position:absolute;width:4rem;height:4rem;top:-50%;left:0;cursor:pointer' viewBox='17.513311 -50.162562 135.43625 133.15872'>  <path "+e+" d='M 31.903026,82.821836 C 25.708745,81.992746 20.516558,77.667936 18.343786,71.527736 L 17.615527,69.469696 L 17.539572,50.045856 C 17.487175,36.646606 17.554022,30.186546 17.755091,29.217996 C 18.730647,24.518776 22.783682,20.649225 27.537401,19.878549 C 29.740952,19.521309 35.892529,19.51866 38.120734,19.873991 C 40.257596,20.214755 42.742628,21.34772 44.158105,22.626517 L 45.235398,23.599787 L 46.571488,22.543665 C 48.366424,21.124851 50.379826,20.207895 52.431022,19.875081 C 54.606582,19.522089 62.078015,19.518655 64.314483,19.86962 C 66.348761,20.188855 68.769955,21.304476 70.333753,22.643135 L 71.458232,23.605724 L 72.582711,22.641924 C 74.116612,21.327206 76.54694,20.21217 78.607115,19.877925 C 79.550177,19.724922 82.226773,19.599737 84.555107,19.599737 C 86.88344,19.599737 89.560036,19.724922 90.503098,19.877925 C 92.563274,20.21217 94.993604,21.327206 96.527504,22.641924 L 97.651984,23.605724 L 98.776464,22.643135 C 100.34127,21.303611 102.74862,20.197666 104.88113,19.838634 C 106.02693,19.645727 108.58803,19.581705 111.89258,19.663366 C 118.00451,19.814398 119.3811,20.164016 122.16726,22.272856 L 123.8631,23.556427 L 125.24666,22.429498 C 128.21735,20.009841 130.67124,19.480857 138.08633,19.661652 C 142.4415,19.767837 143.53508,19.876488 144.77589,20.326277 C 147.8898,21.455053 150.0742,23.425283 151.57735,26.460866 L 152.55302,28.431206 L 152.62719,48.201286 C 152.71008,70.295226 152.72145,70.125406 150.91312,73.799626 C 149.52605,76.617906 146.43118,79.736906 143.68947,81.079576 C 139.51467,83.124066 144.91048,82.944756 86.142607,82.991996 C 57.183962,83.015276 32.776151,82.938706 31.903026,82.821836 Z M 140.57713,75.879926 C 142.79543,74.783546 144.28251,73.330286 145.31817,71.246726 C 145.92829,70.019266 145.93972,69.846406 146.01719,60.672296 C 146.06051,55.542686 146.04517,51.345736 145.9831,51.345736 C 145.92103,51.345736 145.17839,51.762356 144.33278,52.271556 C 137.84634,56.177486 130.15016,55.251816 124.84912,49.928136 L 123.30582,48.378246 L 121.39123,50.192716 C 118.07223,53.338176 114.8975,54.627816 110.48427,54.623356 C 106.05294,54.618876 102.10737,52.981786 99.132394,49.913246 L 97.570094,48.301816 L 96.034604,49.900876 C 92.992384,53.069016 89.315895,54.616926 84.81969,54.622656 C 80.368308,54.628326 76.615263,53.091496 73.596616,50.026936 L 71.898541,48.303026 L 70.024741,50.181586 C 63.968791,56.252926 54.079775,56.181226 47.89681,50.021146 L 46.163514,48.294266 L 44.906026,49.676286 C 42.031099,52.835926 38.01533,54.574356 33.490526,54.618056 C 30.36934,54.648206 28.076112,54.021406 25.384928,52.402596 L 23.700943,51.389646 L 23.630956,59.621146 C 23.572323,66.517216 23.629468,68.091116 23.983198,69.322626 C 25.057659,73.063346 28.230089,75.964616 32.081962,76.729146 C 32.711151,76.854036 56.925583,76.938616 85.891811,76.917116 L 138.55767,76.878026 Z M 36.232756,47.937736 C 39.413008,46.947926 42.217582,44.001316 42.890308,40.943006 C 43.076986,40.094336 43.158318,37.689536 43.103728,34.632646 L 43.015525,29.693516 L 42.220138,28.547226 C 41.699754,27.797276 40.928648,27.149376 39.989882,26.673346 C 38.569316,25.952996 38.503212,25.945736 33.358234,25.945736 C 28.213257,25.945736 28.147152,25.952996 26.726587,26.673346 C 25.786351,27.150126 25.017529,27.796566 24.49633,28.548596 L 23.700943,29.696246 V 35.295476 C 23.700943,40.118756 23.768197,41.058986 24.186254,42.080236 C 26.181253,46.953716 31.338017,49.461146 36.232756,47.937736 Z M 62.183357,47.931066 C 65.229097,46.983126 67.661729,44.536116 68.67458,41.401466 C 69.030956,40.298536 69.094445,39.122676 69.026982,34.874876 L 68.944691,29.693606 L 68.149303,28.547276 C 67.628891,27.797246 66.857864,27.149406 65.919048,26.673346 C 64.498482,25.952996 64.432378,25.945736 59.2874,25.945736 C 54.142421,25.945736 54.076317,25.952996 52.655751,26.673346 C 51.716935,27.149406 50.945908,27.797246 50.425496,28.547276 L 49.630108,29.693606 L 49.547818,34.874876 C 49.45465,40.740996 49.639819,41.738426 51.26749,44.138106 C 53.668552,47.677996 58.075926,49.209436 62.183357,47.931066 Z M 87.880522,48.020576 C 90.71462,47.202656 93.232424,44.904476 94.388544,42.080236 C 94.806604,41.058986 94.873854,40.118756 94.873854,35.295476 V 29.696246 L 94.078464,28.548596 C 93.557274,27.796566 92.788444,27.150126 91.848214,26.673346 C 90.427647,25.952996 90.361544,25.945736 85.216565,25.945736 C 80.071586,25.945736 80.005483,25.952996 78.584916,26.673346 C 77.646101,27.149406 76.875073,27.797246 76.354662,28.547276 L 75.559274,29.693606 L 75.476983,34.874876 C 75.383815,40.740996 75.568984,41.738426 77.196656,44.138106 C 79.534636,47.584996 83.896942,49.170246 87.880522,48.020576 Z M 113.80968,48.020576 C 116.64378,47.202656 119.16158,44.904476 120.31771,42.080236 C 120.73577,41.058976 120.80302,40.118746 120.80302,35.295096 V 29.695486 L 120.00763,28.548216 C 119.48666,27.796766 118.7172,27.149916 117.77738,26.673346 C 116.36075,25.954996 116.27834,25.945756 111.29672,25.947216 C 108.52154,25.948026 105.8012,26.073586 105.25152,26.226236 C 103.9509,26.587416 102.45556,27.916866 101.84959,29.250756 C 101.43912,30.154296 101.3669,31.047016 101.36195,35.278906 C 101.35703,39.486956 101.43282,40.464616 101.85765,41.673326 C 103.62352,46.697566 108.82414,49.459406 113.80968,48.020576 Z M 139.73885,48.008606 C 142.629,47.150446 145.08848,44.910016 146.24687,42.080236 C 146.66493,41.058976 146.73218,40.118746 146.73218,35.295096 V 29.695486 L 145.9368,28.548216 C 145.415,27.795576 144.64142,27.145796 143.68784,26.659176 L 142.23427,25.917406 L 136.67802,25.997716 C 130.64863,26.084866 130.33249,26.153156 128.76412,27.707106 C 127.42044,29.038446 127.28531,29.719066 127.28531,35.155606 C 127.28531,38.686406 127.39442,40.511666 127.65778,41.386766 C 129.18339,46.455976 134.72966,49.495976 139.73885,48.008606 Z M 27.537401,12.97797 C 23.298628,12.246265 19.907168,9.4558607 18.208259,5.3022017 L 17.615527,3.8530317 L 17.541208,-15.505427 C 17.457483,-37.314124 17.438893,-37.054871 19.368878,-40.993842 C 21.432277,-45.205101 25.724297,-48.602754 30.447818,-49.764163 C 32.608238,-50.295362 137.82489,-50.295362 139.98531,-49.764163 C 144.70904,-48.602703 149.00118,-45.204879 151.064,-40.993842 C 152.97479,-37.093158 152.94016,-37.589838 152.94513,-14.006343 L 152.94956,7.0280317 L 151.74206,8.5661707 C 150.38854,10.29031 147.98227,11.977563 145.95803,12.62187 C 144.16532,13.192484 135.03878,13.44102 132.37526,12.99176 C 130.11858,12.61112 127.71523,11.516106 126.26922,10.209717 L 125.19773,9.2416917 L 123.86164,10.297813 C 122.0667,11.716628 120.0533,12.633583 118.0021,12.966397 C 115.82654,13.319389 108.35511,13.322823 106.11864,12.971858 C 104.08437,12.652623 101.66317,11.537002 100.09937,10.198343 L 98.974894,9.2357537 L 97.850424,10.199555 C 96.387334,11.453574 93.950384,12.599275 91.980994,12.958986 C 89.97825,13.324789 82.174799,13.327747 79.930032,12.963553 C 77.869856,12.629308 75.439529,11.514272 73.905628,10.199555 L 72.781149,9.2357537 L 71.65667,10.198343 C 70.091861,11.537868 67.684507,12.643812 65.552,13.002844 C 64.406195,13.195751 61.845097,13.259773 58.540542,13.178112 C 52.425376,13.026998 51.052461,12.677793 48.258077,10.56273 L 46.55446,9.2732667 L 45.314159,10.304843 C 42.435616,12.69897 40.203529,13.247414 33.490526,13.210026 C 30.871151,13.195437 28.192245,13.091011 27.537401,12.97797 Z M 40.644304,5.9656127 C 41.582418,5.3851807 42.135245,4.7821527 42.673096,3.7525877 C 43.401318,2.3586117 43.4124,2.2671747 43.4124,-2.3468673 C 43.4124,-7.6596763 43.143173,-9.0251013 41.652881,-11.270504 C 37.900001,-16.924924 29.296557,-16.918731 25.538642,-11.258902 C 24.036934,-8.9971673 23.833235,-7.9397673 23.833235,-2.4061603 C 23.833235,3.1179367 24.085989,4.1137277 25.844227,5.5166577 C 27.42414,6.7773017 28.054344,6.8790817 33.909129,6.8191717 L 39.354816,6.7634477 Z M 65.18161,6.6152467 C 66.482224,6.2540647 67.977565,4.9246127 68.58354,3.5907187 C 68.994006,2.6871817 69.066222,1.7944597 69.071172,-2.4374313 C 69.077625,-7.9546893 68.837127,-9.1495093 67.258208,-11.44439 C 65.627956,-13.813877 62.208767,-15.593843 59.2874,-15.593843 C 56.263183,-15.593843 52.994135,-13.842224 51.26749,-11.296623 C 49.639819,-8.8969433 49.45465,-7.8995163 49.547818,-2.0333993 L 49.630108,3.1478767 L 50.425496,4.2942027 C 50.945908,5.0442307 51.716935,5.6920737 52.655751,6.1681357 C 54.072375,6.8864867 54.154785,6.8957207 59.136405,6.8942637 C 61.911587,6.8934537 64.63193,6.7678957 65.18161,6.6152467 Z M 91.848214,6.1681357 C 92.787034,5.6920737 93.558054,5.0442307 94.078464,4.2942027 L 94.873854,3.1478767 L 94.956144,-2.0333993 C 95.049314,-7.8995163 94.864144,-8.8969433 93.236474,-11.296623 C 91.50983,-13.842224 88.240781,-15.593843 85.216565,-15.593843 C 82.192349,-15.593843 78.9233,-13.842224 77.196656,-11.296623 C 75.568984,-8.8969433 75.383815,-7.8995163 75.476983,-2.0333993 L 75.559274,3.1478767 L 76.354662,4.2942027 C 76.875073,5.0442307 77.646101,5.6920737 78.584916,6.1681357 C 80.005483,6.8884877 80.071586,6.8957397 85.216565,6.8957397 C 90.361544,6.8957397 90.427647,6.8884877 91.848214,6.1681357 Z M 117.77738,6.1681357 C 118.71619,5.6920737 119.48722,5.0442307 120.00763,4.2942027 L 120.80302,3.1478767 L 120.88531,-2.0333993 C 120.97848,-7.8995163 120.79331,-8.8969433 119.16564,-11.296623 C 117.43899,-13.842224 114.16994,-15.593843 111.14573,-15.593843 C 108.1185,-15.593843 104.60066,-13.688279 103.00815,-11.185842 C 101.49246,-8.8041193 101.31474,-7.7887403 101.40614,-2.0333993 L 101.48844,3.1478767 L 102.28382,4.2942027 C 102.80423,5.0442307 103.57526,5.6920737 104.51408,6.1681357 C 105.93464,6.8884877 106.00075,6.8957397 111.14573,6.8957397 C 116.29071,6.8957397 116.35681,6.8884877 117.77738,6.1681357 Z M 143.70654,6.1681357 C 144.64677,5.6913537 145.4156,5.0449077 145.9368,4.2928797 L 146.73218,3.1452287 V -2.4539943 C 146.73218,-7.2772773 146.66493,-8.2175113 146.24687,-9.2387603 C 145.09075,-12.062997 142.57295,-14.361176 139.73885,-15.179098 C 135.65467,-16.357795 131.19563,-14.657694 128.8491,-11.027151 C 127.43844,-8.8445953 127.22645,-7.5561713 127.3294,-1.7911653 L 127.4176,3.1479667 L 128.21299,4.2942507 C 128.73337,5.0442067 129.50448,5.6920997 130.44324,6.1681357 C 131.86381,6.8884877 131.92991,6.8957397 137.07489,6.8957397 C 142.21987,6.8957397 142.28597,6.8884877 143.70654,6.1681357 Z M 51.669564,-19.645979 C 54.214353,-21.155588 56.547568,-21.777179 59.684275,-21.781177 C 64.12819,-21.786841 67.873652,-20.253772 70.916138,-17.183822 L 72.623,-15.461551 L 74.524047,-17.355354 C 77.581439,-20.401099 81.0984,-21.80637 85.61344,-21.786344 C 89.796915,-21.767786 93.602604,-20.173095 96.607154,-17.179668 L 98.340454,-15.452788 L 99.597934,-16.834807 C 101.29065,-18.695161 103.69156,-20.222193 106.25093,-21.06627 C 108.92062,-21.946724 112.76408,-22.051414 115.24677,-21.311298 C 117.90973,-20.517439 120.39926,-19.058556 122.2969,-17.179853 L 124.05537,-15.43894 L 125.25868,-16.803769 C 126.87701,-18.639318 129.04513,-20.029876 131.77154,-20.980889 C 133.69246,-21.650935 134.42979,-21.769961 136.67802,-21.772935 C 138.13323,-21.774858 139.85963,-21.62304 140.51447,-21.435562 C 141.9441,-21.026262 144.54687,-19.825464 145.7562,-19.017273 L 146.63229,-18.431779 L 146.54995,-27.397706 L 146.4676,-36.363633 L 145.6145,-38.107005 C 144.11897,-41.163246 141.22011,-43.322969 137.83918,-43.899803 C 136.64794,-44.103047 120.7591,-44.16581 84.02594,-44.112374 L 31.903026,-44.03655 L 30.135713,-43.19927 C 27.81418,-42.099425 26.14099,-40.520892 25.138702,-38.484957 C 24.19215,-36.562236 24.207872,-36.793325 24.298157,-26.130332 L 24.362401,-18.542865 L 25.867816,-19.449377 C 32.286276,-23.314373 40.099823,-22.401495 45.245264,-17.185457 L 46.945837,-15.461551 L 48.475345,-17.059999 C 49.316575,-17.939146 50.753974,-19.102837 51.669564,-19.645979 Z'></path></svg>";$("#navIconContainer").append(t);t="<svg xmlns='http://www.w3.org/2000/svg' id='viewLowerBtn' style='position:absolute;width:4rem;height:4rem;top:100%;left:0;cursor:pointer' viewBox='17.513311 -50.162562 135.43625 133.15872'>  <path "+e+" d='M 31.903026,47.940683 C 25.708745,47.111593 20.516558,42.786783 18.343786,36.646583 L 17.615527,34.588543 L 17.539572,15.164703 C 17.487175,1.765453 17.554022,-4.694607 17.755091,-5.663157 C 18.730647,-10.362377 22.783682,-14.231928 27.537401,-15.002604 C 29.740952,-15.359844 35.892529,-15.362493 38.120734,-15.007162 C 40.257596,-14.666398 42.742628,-13.533433 44.158105,-12.254636 L 45.235398,-11.281366 L 46.571488,-12.337488 C 48.366424,-13.756302 50.379826,-14.673258 52.431022,-15.006072 C 54.606582,-15.359064 62.078015,-15.362498 64.314483,-15.011533 C 66.348761,-14.692298 68.769955,-13.576677 70.333753,-12.238018 L 71.458232,-11.275429 L 72.582711,-12.239229 C 74.116612,-13.553947 76.54694,-14.668983 78.607115,-15.003228 C 79.550177,-15.156231 82.226773,-15.281416 84.555107,-15.281416 C 86.88344,-15.281416 89.560036,-15.156231 90.503098,-15.003228 C 92.563274,-14.668983 94.993604,-13.553947 96.527504,-12.239229 L 97.651984,-11.275429 L 98.776464,-12.238018 C 100.34127,-13.577542 102.74862,-14.683487 104.88113,-15.042519 C 106.02693,-15.235426 108.58803,-15.299448 111.89258,-15.217787 C 118.00451,-15.066755 119.3811,-14.717137 122.16726,-12.608297 L 123.8631,-11.324726 L 125.24666,-12.451655 C 128.21735,-14.871312 130.67124,-15.400296 138.08633,-15.219501 C 142.4415,-15.113316 143.53508,-15.004665 144.77589,-14.554876 C 147.8898,-13.4261 150.0742,-11.45587 151.57735,-8.420287 L 152.55302,-6.449947 L 152.62719,13.320133 C 152.71008,35.414073 152.72145,35.244253 150.91312,38.918473 C 149.52605,41.736753 146.43118,44.855753 143.68947,46.198423 C 139.51467,48.242913 144.91048,48.063603 86.142607,48.110843 C 57.183962,48.134123 32.776151,48.057553 31.903026,47.940683 Z M 140.57713,40.998773 C 142.79543,39.902393 144.28251,38.449133 145.31817,36.365573 C 145.92829,35.138113 145.93972,34.965253 146.01719,25.791143 C 146.06051,20.661533 146.04517,16.464583 145.9831,16.464583 C 145.92103,16.464583 145.17839,16.881203 144.33278,17.390403 C 137.84634,21.296333 130.15016,20.370663 124.84912,15.046983 L 123.30582,13.497093 L 121.39123,15.311563 C 118.07223,18.457023 114.8975,19.746663 110.48427,19.742203 C 106.05294,19.737723 102.10737,18.100633 99.132394,15.032093 L 97.570094,13.420663 L 96.034604,15.019723 C 92.992384,18.187863 89.315895,19.735773 84.81969,19.741503 C 80.368308,19.747173 76.615263,18.210343 73.596616,15.145783 L 71.898541,13.421873 L 70.024741,15.300433 C 63.968791,21.371773 54.079775,21.300073 47.89681,15.139993 L 46.163514,13.413113 L 44.906026,14.795133 C 42.031099,17.954773 38.01533,19.693203 33.490526,19.736903 C 30.36934,19.767053 28.076112,19.140253 25.384928,17.521443 L 23.700943,16.508493 L 23.630956,24.739993 C 23.572323,31.636063 23.629468,33.209963 23.983198,34.441473 C 25.057659,38.182193 28.230089,41.083463 32.081962,41.847993 C 32.711151,41.972883 56.925583,42.057463 85.891811,42.035963 L 138.55767,41.996873 Z M 36.232756,13.056583 C 39.413008,12.066773 42.217582,9.120163 42.890308,6.061853 C 43.076986,5.213183 43.158318,2.808383 43.103728,-0.248507 L 43.015525,-5.187637 L 42.220138,-6.333927 C 41.699754,-7.083877 40.928648,-7.731777 39.989882,-8.207807 C 38.569316,-8.928157 38.503212,-8.935417 33.358234,-8.935417 C 28.213257,-8.935417 28.147152,-8.928157 26.726587,-8.207807 C 25.786351,-7.731027 25.017529,-7.084587 24.49633,-6.332557 L 23.700943,-5.184907 V 0.414323 C 23.700943,5.237603 23.768197,6.177833 24.186254,7.199083 C 26.181253,12.072563 31.338017,14.579993 36.232756,13.056583 Z M 62.183357,13.049913 C 65.229097,12.101973 67.661729,9.654963 68.67458,6.520313 C 69.030956,5.417383 69.094445,4.241523 69.026982,-0.006277 L 68.944691,-5.187547 L 68.149303,-6.333877 C 67.628891,-7.083907 66.857864,-7.731747 65.919048,-8.207807 C 64.498482,-8.928157 64.432378,-8.935417 59.2874,-8.935417 C 54.142421,-8.935417 54.076317,-8.928157 52.655751,-8.207807 C 51.716935,-7.731747 50.945908,-7.083907 50.425496,-6.333877 L 49.630108,-5.187547 L 49.547818,-0.006277 C 49.45465,5.859843 49.639819,6.857273 51.26749,9.256953 C 53.668552,12.796843 58.075926,14.328283 62.183357,13.049913 Z M 87.880522,13.139423 C 90.71462,12.321503 93.232424,10.023323 94.388544,7.199083 C 94.806604,6.177833 94.873854,5.237603 94.873854,0.414323 V -5.184907 L 94.078464,-6.332557 C 93.557274,-7.084587 92.788444,-7.731027 91.848214,-8.207807 C 90.427647,-8.928157 90.361544,-8.935417 85.216565,-8.935417 C 80.071586,-8.935417 80.005483,-8.928157 78.584916,-8.207807 C 77.646101,-7.731747 76.875073,-7.083907 76.354662,-6.333877 L 75.559274,-5.187547 L 75.476983,-0.006277 C 75.383815,5.859843 75.568984,6.857273 77.196656,9.256953 C 79.534636,12.703843 83.896942,14.289093 87.880522,13.139423 Z M 113.80968,13.139423 C 116.64378,12.321503 119.16158,10.023323 120.31771,7.199083 C 120.73577,6.177823 120.80302,5.237593 120.80302,0.413943 V -5.185667 L 120.00763,-6.332937 C 119.48666,-7.084387 118.7172,-7.731237 117.77738,-8.207807 C 116.36075,-8.926157 116.27834,-8.935397 111.29672,-8.933937 C 108.52154,-8.933127 105.8012,-8.807567 105.25152,-8.654917 C 103.9509,-8.293737 102.45556,-6.964287 101.84959,-5.630397 C 101.43912,-4.726857 101.3669,-3.834137 101.36195,0.397753 C 101.35703,4.605803 101.43282,5.583463 101.85765,6.792173 C 103.62352,11.816413 108.82414,14.578253 113.80968,13.139423 Z M 139.73885,13.127453 C 142.629,12.269293 145.08848,10.028863 146.24687,7.199083 C 146.66493,6.177823 146.73218,5.237593 146.73218,0.413943 V -5.185667 L 145.9368,-6.332937 C 145.415,-7.085577 144.64142,-7.735357 143.68784,-8.221977 L 142.23427,-8.963747 L 136.67802,-8.883437 C 130.64863,-8.796287 130.33249,-8.727997 128.76412,-7.174047 C 127.42044,-5.842707 127.28531,-5.162087 127.28531,0.274453 C 127.28531,3.805253 127.39442,5.630513 127.65778,6.505613 C 129.18339,11.574823 134.72966,14.614823 139.73885,13.127453 Z'></path></svg>";$("#navIconContainer").append(t);e="<svg xmlns='http://www.w3.org/2000/svg' id='viewRotateBtn' style='position:absolute;width:4rem;height:4rem;top:250%;left:0;cursor:pointer' viewBox='0 0 24 24'>  <path "+e+" d='M7.51999998092651,21.4799995422363 C4.25,19.9400005340576 1.9099999666214,16.7600002288818 1.54999995231628,13 L0.0500000007450581,13 C0.560000002384186,19.1599998474121 5.71000003814697,24 12,24 L12.6599998474121,23.9699993133545 L8.85000038146973,20.1599998474121 Z M8.40999984741211,14.960000038147 C8.22000026702881,14.960000038147 8.03999996185303,14.9300003051758 7.8899998664856,14.8800001144409 C7.73000001907349,14.8199996948242 7.59999990463257,14.75 7.48999977111816,14.6400003433228 C7.38000011444092,14.539999961853 7.28999996185303,14.4200000762939 7.23000001907349,14.2700004577637 C7.17000007629395,14.1300001144409 7.1399998664856,13.9700002670288 7.1399998664856,13.8000001907349 L5.84000015258789,13.8000001907349 C5.84000015258789,14.1599998474121 5.90999984741211,14.4799995422363 6.05000019073486,14.75 C6.19000005722046,15.0200004577637 6.38000011444092,15.25 6.6100001335144,15.4399995803833 C6.84999990463257,15.6199998855591 7.11999988555908,15.7600002288818 7.42999982833862,15.8500003814697 C7.73000001907349,15.9499998092651 8.05000019073486,16 8.39000034332275,16 C8.76000022888184,16 9.10999965667725,15.9499998092651 9.42000007629395,15.8500003814697 C9.73999977111816,15.75 10.0200004577637,15.6000003814697 10.25,15.4099998474121 C10.4799995422363,15.2200002670288 10.6700000762939,14.9799995422363 10.8000001907349,14.6899995803833 C10.9300003051758,14.3999996185303 11,14.0799999237061 11,13.7200002670288 C11,13.5299997329712 10.9799995422363,13.3400001525879 10.9300003051758,13.1599998474121 C10.8800001144409,12.9799995422363 10.8100004196167,12.8100004196167 10.6999998092651,12.6499996185303 C10.6000003814697,12.4899997711182 10.460000038147,12.3500003814697 10.3000001907349,12.2200002670288 C10.1300001144409,12.0900001525879 9.93000030517578,11.9899997711182 9.6899995803833,11.9099998474121 C9.89000034332275,11.8199996948242 10.0600004196167,11.710000038147 10.210000038147,11.5799999237061 C10.3599996566772,11.4499998092651 10.4799995422363,11.3100004196167 10.5799999237061,11.1599998474121 C10.6800003051758,11.0100002288818 10.75,10.8599996566772 10.8000001907349,10.6999998092651 C10.8500003814697,10.539999961853 10.8699998855591,10.3800001144409 10.8699998855591,10.2200002670288 C10.8699998855591,9.85999965667725 10.8100004196167,9.53999996185303 10.6899995803833,9.26000022888184 C10.5699996948242,8.97999954223633 10.3999996185303,8.75 10.1800003051758,8.56999969482422 C9.97999954223633,8.38000011444092 9.71000003814697,8.23999977111816 9.40999984741211,8.14000034332275 C9.10000038146973,8.05000019073486 8.76000022888184,8 8.39000034332275,8 C8.02999973297119,8 7.69999980926514,8.05000019073486 7.3899998664856,8.15999984741211 C7.09000015258789,8.27000045776367 6.82000017166138,8.42000007629395 6.59999990463257,8.60999965667725 C6.3899998664856,8.80000019073486 6.21999979019165,9.02000045776367 6.09000015258789,9.27999973297119 C5.96999979019165,9.53999996185303 5.90999984741211,9.81999969482422 5.90999984741211,10.1300001144409 L7.21000003814697,10.1300001144409 C7.21000003814697,9.96000003814697 7.23999977111816,9.8100004196167 7.30000019073486,9.68000030517578 C7.3600001335144,9.55000019073486 7.44000005722046,9.43000030517578 7.55000019073486,9.34000015258789 C7.65999984741211,9.25 7.78000020980835,9.17000007629395 7.92999982833862,9.11999988555908 C8.07999992370605,9.06999969482422 8.22999954223633,9.03999996185303 8.40999984741211,9.03999996185303 C8.8100004196167,9.03999996185303 9.10999965667725,9.14000034332275 9.30000019073486,9.35000038146973 C9.48999977111816,9.55000019073486 9.59000015258789,9.84000015258789 9.59000015258789,10.210000038147 C9.59000015258789,10.3900003433228 9.5600004196167,10.5500001907349 9.51000022888184,10.6999998092651 C9.46000003814697,10.8500003814697 9.36999988555908,10.9700002670288 9.26000022888184,11.0699996948242 C9.14999961853027,11.1700000762939 9.01000022888184,11.25 8.85000038146973,11.3100004196167 C8.6899995803833,11.3699998855591 8.48999977111816,11.3999996185303 8.27000045776367,11.3999996185303 L7.5,11.3999996185303 L7.5,12.4300003051758 L8.27000045776367,12.4300003051758 C8.48999977111816,12.4300003051758 8.6899995803833,12.4499998092651 8.86999988555908,12.5 C9.05000019073486,12.5500001907349 9.19999980926514,12.6300001144409 9.31999969482422,12.7299995422363 C9.4399995803833,12.8400001525879 9.53999996185303,12.9700002670288 9.60999965667725,13.1300001144409 C9.68000030517578,13.289999961853 9.71000003814697,13.4799995422363 9.71000003814697,13.6999998092651 C9.71000003814697,14.1099996566772 9.59000015258789,14.4200000762939 9.35999965667725,14.6300001144409 C9.13000011444092,14.8599996566772 8.8100004196167,14.960000038147 8.40999984741211,14.960000038147 Z M16.9599990844727,9.03999996185303 C16.6399993896484,8.71000003814697 16.2600002288818,8.44999980926514 15.8199996948242,8.27000045776367 C15.3900003433228,8.09000015258789 14.8999996185303,8 14.3599996566772,8 L12,8 L12,16 L14.3000001907349,16 C14.8500003814697,16 15.3599996566772,15.9099998474121 15.8100004196167,15.7299995422363 C16.2600002288818,15.5500001907349 16.6499996185303,15.3000001907349 16.9699993133545,14.9700002670288 C17.2900009155273,14.6400003433228 17.5400009155273,14.2399997711182 17.7099990844727,13.7799997329712 C17.8799991607666,13.3100004196167 17.9699993133545,12.789999961853 17.9699993133545,12.210000038147 L17.9699993133545,11.8100004196167 C17.9699993133545,11.2299995422363 17.8799991607666,10.710000038147 17.7099990844727,10.2399997711182 C17.5300006866455,9.77000045776367 17.2800006866455,9.36999988555908 16.9599990844727,9.03999996185303 Z M16.5699996948242,12.1999998092651 C16.5699996948242,12.6199998855591 16.5200004577637,12.9899997711182 16.4300003051758,13.3299999237061 C16.3299999237061,13.6599998474121 16.1900005340576,13.9499998092651 16,14.1800003051758 C15.8100004196167,14.4099998474121 15.5699996948242,14.5900001525879 15.289999961853,14.710000038147 C15,14.8299999237061 14.6700000762939,14.8900003433228 14.3000001907349,14.8900003433228 L13.3900003433228,14.8900003433228 L13.3900003433228,9.11999988555908 L14.3599996566772,9.11999988555908 C15.0799999237061,9.11999988555908 15.6300001144409,9.35000038146973 16,9.8100004196167 C16.3799991607666,10.2700004577637 16.5699996948242,10.9300003051758 16.5699996948242,11.8000001907349 Z M12,0 L11.3400001525879,0.0299999993294477 L15.1499996185303,3.83999991416931 L16.4799995422363,2.50999999046326 C19.75,4.05999994277954 22.0900001525879,7.23000001907349 22.4400005340576,10.9899997711182 L23.9400005340576,10.9899997711182 C23.4400005340576,4.84000015258789 18.2900009155273,0 12,0 Z'></path></svg>";$("#navIconContainer").append(e),$("#viewUpperBtn").on("click",cameraToUpper),$("#viewFrontBtn").on("click",cameraToFront),$("#viewLowerBtn").on("click",cameraToLower),$("#viewRotateBtn").on("click",rotateCamera)}function initToolButtons(){var e="stroke='none' fill='"+viewerSettings.frontColorStr+"'",t=[],a="<svg xmlns='http://www.w3.org/2000/svg' id='infoBtn' style='position:absolute;width:3rem;height:3rem;bottom:1rem;right:1rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+e+" d='M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z'></path></svg>";if($("#canvasContainer").append(a),$("#infoBtn").on("click",showInfo),$("#canvasContainer").append("<div id='toolIconContainer' style='overflow:visible;position:absolute;width:3rem;height:3rem;top:40vh;right:1rem;cursor:none'> </div>"),viewerSettings.showTools){a="<svg xmlns='http://www.w3.org/2000/svg' id='toggleClippingBtn' style='position:absolute;width:3rem;height:3rem;bottom:5rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m203.68 289.04a41.245 41.245 0 0 0-19.68-5.04c-26.52 0-48 25.06-48 56s21.48 56 48 56 48-25.06 48-56a62.291 62.291 0 0 0-4.32-22.96l28.32-33.04 28.32 33.04a62.291 62.291 0 0 0-4.32 22.96c0 30.94 21.48 56 48 56s48-25.06 48-56-21.48-56-48-56a41.245 41.245 0 0 0-19.68 5.04l-28.32-33.04 84-98v-42h-12zm4.32 50.96c0 15.4-10.68 28-24 28s-24-12.6-24-28 10.68-28 24-28 24 12.6 24 28zm144 0c0 15.4-10.68 28-24 28s-24-12.6-24-28 10.68-28 24-28 24 12.6 24 28zm-204-182 72 84 24-28-84-98h-12zm-84-126a32.036 32.036 0 0 0-32 32v384a32.036 32.036 0 0 0 32 32h384a32.036 32.036 0 0 0 32-32v-384a32.036 32.036 0 0 0-32-32h-384m0-32h384a64 64 0 0 1 64 64v384a64 64 0 0 1-64 64h-384a64 64 0 0 1-64-64v-384a64 64 0 0 1 64-64zm176 494h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-114h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32zm0-38h32v19h-32z'></path></svg>";$("#toolIconContainer").append(a),$("#toggleClippingBtn").on("click",toggleClipping),t.push($("#toggleClippingBtn"));a="<svg xmlns='http://www.w3.org/2000/svg' id='toggleRulerBtn' style='position:absolute;width:3rem;height:3rem;bottom:5rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m63.875 31.938a31.974 31.974 0 0 0-31.938 31.938v383.25a31.974 31.974 0 0 0 31.938 31.938h383.25a31.974 31.974 0 0 0 31.938-31.938v-383.25a31.974 31.974 0 0 0-31.938-31.938h-383.25m0-31.938h383.25a63.875 63.875 0 0 1 63.875 63.875v383.25a63.875 63.875 0 0 1-63.875 63.875h-383.25a63.875 63.875 0 0 1-63.875-63.875v-383.25a63.875 63.875 0 0 1 63.875-63.875zm-44.912 240.03v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm37.926 0v31.938h-18.963v-31.938zm-272.47 253.01h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938zm0-37.926h31.938v18.963h-31.938z'></path></svg>";$("#toolIconContainer").append(a),$("#toggleRulerBtn").on("click",toggleRuler),t.push($("#toggleRulerBtn")),null===activeModel.animationPlayback&&""==activeModel.comment||(a="<svg xmlns='http://www.w3.org/2000/svg' id='toggleCommentBtn' style='position:absolute;width:3rem;height:3rem;bottom:9rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m368 266h-288a16 16 0 0 1-16-16 16 16 0 0 1 16-16h288a16 16 0 0 1 16 16 16 16 0 0 1-16 16zm-56-77h-232a16 16 0 0 1-16-16 16 16 0 0 1 16-16h232a16 16 0 0 1 16 16 16 16 0 0 1-16 16zm120-77h-352a16 16 0 0 1-16-16 16 16 0 0 1 16-16h352a16 16 0 0 1 16 16 16 16 0 0 1-16 16zm-368-80a32.036 32.036 0 0 0-32 32v259.3a32.036 32.036 0 0 0 32 32 32 32 0 0 1 26.5 14.061l56.839 83.962v-66.023a32 32 0 0 1 32-32h268.66a32.036 32.036 0 0 0 32-32v-259.3a32.036 32.036 0 0 0-32-32h-384m0-32h384a64 64 0 0 1 64 64v259.3a64 64 0 0 1-64 64h-268.66v124.05h-31.36l-83.978-124.05a64 64 0 0 1-64-64v-259.3a64 64 0 0 1 64-64z'></path></svg>",$("#toolIconContainer").append(a),$("#toggleCommentBtn").on("click",toggleComment),t.push($("#toggleCommentBtn")));for(var i,o=!1,n=!1,l=!1,c=!1,r=0;r<activeModel.objects.length;++r){var s=activeModel.objects[r];210==s.type||211==s.type?o=!0:107==s.type?n=!0:11<=s.type&&s.type<=85&&(l=!0,s.animation.hasVerticesColorKeys()&&(c=!0))}o&&l&&(i="<svg xmlns='http://www.w3.org/2000/svg' id='toggleMalocclusionBtn' style='position:absolute;width:3rem;height:3rem;bottom:13rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m136.1 477.75a27.2 27.2 0 0 0 3.7922-0.6371c3.305-0.7962 17.171-5.8372 29.917-11.689 28.801-13.225 71.164-43.707 110.56-79.552a344.79 344.79 0 0 0 25.039-25.273c7.0725-14.616 24.705-18.3 33.28-20.092 27.086-5.6491 53.259-20.379 84.864-47.758 19.452-16.851 37.655-37.85 45.298-52.257a139.24 139.24 0 0 0 6.1957-15.63c2.3624-7.2259 2.6029-8.7731 2.5626-16.556-0.04879-9.9483-1.3909-14.608-6.8356-23.74-0.70215-1.1759-2.8949-4.4732-8.1006-9.6789-10.381-10.381-25.459-20.967-37.513-26.34a215.26 215.26 0 0 0-21.045-8.2293l-4.0397-0.67953a32 32 0 0 1-25.062-21.466l-4.5566-13.707c-7.0336-21.156-15.321-35.442-29.556-50.95-1.6263-1.7678-3.1643-3.3892-4.6499-4.8748-7.3108-7.3108-11.419-9.5466-19.334-12.182-16.616-5.5352-37.912 0.35002-59.964 16.572-11.298 8.3113-45.25 43.295-56.487 59.165-14.335 20.255-26.347 46.236-29.21 63.188-2.0739 12.286-6.1172 22.266-18.651 30.718-4.6231 3.5214-25.824 24.634-41.531 43.117-38.409 45.197-60.923 80.64-72.988 114.92a73.042 73.042 0 0 0-3.1622 11.283c5.0997-4.6584 12.521-11.804 21.085-20.051 30.004-28.894 32.694-31.355 50.137-42.7 19.538-12.706 41.154-23.193 60.856-29.532 14.705-4.7263 34.844-11.2 53.509 7.4649 17.06 17.06 14.623 33.166 11.002 46.923-5.5225 20.971-16.475 44.55-31.671 68.184-10.824 16.836-13.28 19.514-42.277 49.555-8.8374 9.1556-16.825 17.432-21.466 22.48m-124.22-74.833a31.644 31.644 0 0 1-7.4685-12.012c-3.3305-9.5601-2.255-21.036 3.4938-37.377 13.485-38.312 37.559-76.509 78.794-125.03 15.703-18.476 40.533-43.851 47.544-48.587 3.899-2.6333 4.4017-3.5391 5.4674-9.8514 3.6628-21.714 17.411-52.008 34.652-76.353 12.514-17.671 48.713-55.468 63.64-66.448 30.892-22.725 62.082-30.135 89.038-21.156 15.241 5.0742 23.919 11.049 37.441 25.774 17.231 18.771 27.928 37.158 36.354 62.5l4.5566 13.708 4.0397 0.67953c4.5566 0.76791 17.265 5.4327 28.76 10.555 23.213 10.344 50.186 32.284 60.072 48.856 8.3396 13.988 11.276 24.312 11.353 39.976 0.05657 11.239-0.70711 16.122-4.1472 26.66a163.02 163.02 0 0 1-8.3439 20.684c-9.5785 18.057-29.829 41.708-52.612 61.444-35.797 31.011-66.706 48.102-99.283 54.898-5.9652 1.2473-10.848 2.6212-10.848 3.0547 0 2.3561-17.495 21.031-32.47 34.655-42.101 38.307-86.816 70.303-118.74 84.962-12.821 5.8916-29.214 12.164-35.893 13.746-15.599 3.6897-29.071 0.85206-37.846-7.945-8.812-8.8459-10.759-18.592-6.1943-30.96 2.2224-6.021 3.375-7.356 31.311-36.299 28.211-29.228 29.264-30.452 38.381-44.633 13.418-20.87 22.961-41.244 27.643-59.029 2.5724-9.768 2.3483-11.116-2.6828-16.147-4.2978-4.2978-6.6914-4.2547-21.089 0.37265-17.12 5.5076-35.932 14.661-53.203 25.893-14.892 9.686-16.102 10.728-45.386 38.924-33.062 31.839-33.25 31.977-45.103 32.743a27.5 27.5 0 0 1-21.232-8.2583z'></path></svg>",$("#toolIconContainer").append(i),$("#toggleMalocclusionBtn").on("click",toggleMalocclusion),t.push($("#toggleMalocclusionBtn"))),n&&(i="<svg xmlns='http://www.w3.org/2000/svg' id='toggleAttachmentsBtn' style='position:absolute;width:3rem;height:3rem;bottom:17rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m327.46 477.07a27.21 27.21 0 0 0 2.231-3.132c1.774-2.8999 8.0146-16.269 12.889-29.42 11.014-29.717 19.414-81.228 21.924-134.43a344.79 344.79 0 0 0-0.16596-35.574c-5.3339-15.336 4.5277-30.41 9.325-37.742 15.158-23.147 23.25-52.066 26.238-93.779 1.839-25.671-0.1381-53.388-4.9208-68.979a139.21 139.21 0 0 0-6.6708-15.433c-3.439-6.7807-4.3631-8.0442-9.895-13.519-7.0687-7-11.313-9.3462-21.619-11.953-1.327-0.33497-5.21-1.116-12.572-1.116-14.681 0-32.828 3.176-45.149 7.8998a215.22 215.22 0 0 0-20.7 9.0631l-3.337 2.3761a32 32 0 0 1-32.895 2.5429l-12.914-6.4696c-19.932-9.9862-35.894-14.228-56.926-15.128-2.4-0.09999-4.6339-0.15898-6.7349-0.15898-10.339 0-14.825 1.324-22.285 5.0568-15.663 7.8348-26.56 27.055-30.683 54.118-2.112 13.866-1.382 62.61 1.894 81.78 4.1808 24.457 14.059 51.321 24.021 65.331 7.2207 10.154 11.419 20.07 8.5333 34.908-0.77907 5.7586-0.84093 35.679 1.121 59.855 4.7999 59.118 13.942 100.1 29.652 132.87a73.038 73.038 0 0 0 5.7418 10.214c0.312-6.8999 0.50694-17.2 0.73096-29.087 0.78504-41.646 0.94703-45.289 5.2587-65.645 4.832-22.8 12.7-45.497 22.15-63.91 7.0558-13.74 16.719-32.559 43.112-32.559 24.127 0 33.793 13.112 40.958 25.4 10.924 18.735 19.852 43.15 25.819 70.607 4.2506 19.558 4.4079 23.189 5.1468 64.935 0.22496 12.723 0.42894 24.223 0.71694 31.074m-140.75 34.926a31.644 31.644 0 0 1-13.775-3.213c-9.1152-4.4049-16.469-13.28-23.959-28.9-17.555-36.626-27.542-80.661-32.692-144.12-1.961-24.168-2.346-59.666-0.73694-67.973 0.89492-4.6189 0.60994-5.6148-3.1-10.831-12.764-17.944-24.464-49.084-29.487-78.491-3.647-21.344-4.7757-73.665-1.986-91.988 5.7749-37.911 22.59-65.207 47.999-77.917 14.365-7.1888 24.726-9.1001 44.699-8.25 25.457 1.0889 46.022 6.5266 69.897 18.488l12.915 6.4707 3.337-2.3759c3.765-2.6791 16.05-8.3673 27.8-12.873 23.728-9.1001 58.313-12.659 77.021-7.9307 15.788 3.9937 25.165 9.2181 36.295 20.239 7.9882 7.9066 10.9 11.9 15.919 21.784a163 163 0 0 1 8.726 20.526c5.9949 19.541 8.4001 50.584 6.2447 80.649-3.385 47.239-13.155 81.182-31.385 109.02-3.336 5.1-5.817 9.5249-5.5108 9.8312 1.666 1.6659 2.4999 27.242 1.545 47.462-2.683 56.854-11.676 111.1-23.884 144.04-4.8997 13.232-12.056 29.26-15.66 35.1-8.4209 13.639-19.941 21.184-32.379 21.143-12.486-0.024-20.754-5.5388-26.272-17.512-2.6859-5.8286-2.8149-7.5875-3.5268-47.806-0.7191-40.614-0.84008-42.224-4.4209-58.698-5.2688-24.245-12.928-45.399-22.192-61.284-5.088-8.726-6.1999-9.5212-13.315-9.5212-6.0778 0-7.7399 1.723-14.649 15.176-8.2112 16-15.041 35.774-19.311 55.928-3.681 17.379-3.7998 18.972-4.569 59.613-0.86495 45.89-0.89994 46.121-8.74 55.044a27.5 27.5 0 0 1-20.854 9.1731zm16.3-370v46h106v-46h-106m-16-32h138a16 16 0 0 1 16 16v77.996a16 16 0 0 1-16 16h-138a16 16 0 0 1-16-16v-77.996a16 16 0 0 1 16-16z'></path></svg>",$("#toolIconContainer").append(i),$("#toggleAttachmentsBtn").on("click",toggleAttachments),t.push($("#toggleAttachmentsBtn"))),l&&c&&(e="<svg xmlns='http://www.w3.org/2000/svg' id='toggleTeethColorsBtn' style='position:absolute;width:3rem;height:3rem;bottom:21rem;right:0rem;cursor:pointer' viewBox='0 0 512 512'>  <path "+e+" d='m415.95 75.675-63.639 63.639-22.627-22.627 63.639-63.639zm-44.23-36.769-100.41 100.41-22.627-22.627 100.41-100.41zm-87.656 5.6568-94.752 94.752-22.627-22.627 94.752-94.752zm-70.686-11.314-106.07 106.07-22.627-22.627 106.07-106.07zm202.62 110.75h-320v-32h320zm-88.54 333.07a27.21 27.21 0 0 0 2.231-3.132c1.774-2.9 8.0149-16.269 12.889-29.42 11.014-29.717 19.415-81.225 21.925-134.43a344.79 344.79 0 0 0-0.16599-35.574c-5.334-15.336 4.528-30.41 9.3249-37.742 15.158-23.147 23.25-52.069 26.238-93.777 1.839-25.671-0.138-53.391-4.921-68.981a139.21 139.21 0 0 0-6.6709-15.433c-3.439-6.781-4.363-8.0439-9.8949-13.519-7.0689-7-11.313-9.3459-21.62-11.953-1.327-0.335-5.21-1.116-12.572-1.116-14.681 0-32.828 3.176-45.151 7.8999a215.22 215.22 0 0 0-20.7 9.0629l-3.337 2.376a32 32 0 0 1-32.895 2.543l-12.914-6.4699c-19.932-9.9859-35.894-14.228-56.926-15.128-2.4-0.1-4.634-0.159-6.7349-0.159-10.339 0-14.825 1.324-22.285 5.057-15.663 7.8349-26.56 27.055-30.683 54.119-2.112 13.866-1.382 62.611 1.894 81.777 4.181 24.457 14.059 51.322 24.021 65.334 7.2209 10.154 11.419 20.07 8.5329 34.908-0.77899 5.759-0.84099 35.679 1.121 59.855 4.8 59.118 13.942 100.1 29.652 132.87a73.038 73.038 0 0 0 5.7419 10.214c0.31201-6.8999 0.507-17.2 0.731-29.087 0.785-41.647 0.947-45.29 5.259-65.646 4.832-22.8 12.7-45.5 22.15-63.914 7.0559-13.74 16.719-32.559 43.115-32.559 24.127 0 33.793 13.112 40.958 25.4 10.924 18.735 19.852 43.151 25.819 70.607 4.251 19.558 4.408 23.189 5.147 64.934 0.225 12.723 0.42901 24.223 0.717 31.074m-140.75 34.926a31.644 31.644 0 0 1-13.775-3.213c-9.1149-4.405-16.469-13.28-23.959-28.9-17.555-36.626-27.542-80.657-32.692-144.12-1.961-24.168-2.346-59.668-0.73699-67.974 0.89499-4.619 0.61-5.615-3.1-10.831-12.764-17.944-24.464-49.087-29.487-78.491-3.647-21.344-4.776-73.666-1.986-91.985 5.775-37.913 22.59-65.206 48-77.918 14.365-7.1889 24.726-9.0999 44.7-8.2499 25.457 1.089 46.023 6.527 69.899 18.488l12.915 6.471 3.337-2.376c3.765-2.679 16.05-8.3669 27.8-12.873 23.728-9.0999 58.315-12.659 77.023-7.9309 15.788 3.994 25.165 9.2179 36.295 20.239 7.9879 7.9069 10.9 11.9 15.919 21.784a163 163 0 0 1 8.726 20.526c5.9949 19.541 8.3999 50.584 6.2449 80.649-3.385 47.24-13.155 81.181-31.385 109.02-3.336 5.1-5.8169 9.5249-5.511 9.8309 1.666 1.666 2.5 27.242 1.545 47.465-2.683 56.857-11.676 111.1-23.884 144.04-4.9 13.232-12.056 29.26-15.66 35.1-8.4209 13.639-19.941 21.184-32.379 21.143-12.486-0.02399-20.754-5.539-26.272-17.512-2.686-5.829-2.815-7.5879-3.527-47.808-0.71899-40.616-0.83999-42.225-4.421-58.7-5.269-24.245-12.928-45.4-22.193-61.285-5.088-8.726-6.2-9.5209-13.315-9.5209-6.078 0-7.7399 1.723-14.649 15.176-8.2109 16-15.041 35.774-19.311 55.929-3.681 17.379-3.8 18.972-4.569 59.616-0.865 45.892-0.89999 46.122-8.7399 55.045a27.5 27.5 0 0 1-20.854 9.173z'></path></svg>",$("#toolIconContainer").append(e),$("#toggleTeethColorsBtn").on("click",toggleTeethColors),t.push($("#toggleTeethColorsBtn")));for(var d=-(3*t.length+(t.length-1))/2,v=0;v<t.length;++v)t[v].css("bottom",d+4*v+"rem")}}function initAnimationControls(){if($("#canvasContainer").append("<div id='aniText' style='overflow:visible;font-size:200%;color:"+viewerSettings.frontColorStr+";position:absolute;left:6rem;bottom:6rem;cursor:pointer'></div>"),$("#aniText").html(activeModel.comment),null!==activeModel.animationPlayback){var e="rgba("+Math.round((viewerSettings.frontColor[0]+viewerSettings.backColor[0])/2)+","+Math.round((viewerSettings.frontColor[1]+viewerSettings.backColor[1])/2)+","+Math.round((viewerSettings.frontColor[2]+viewerSettings.backColor[2])/2)+", 0.8)",t="stroke='none' fill='"+viewerSettings.frontColorStr+"'";$("#canvasContainer").append("<div id='aniControlsOuter' style='overflow:visible;position:absolute;width:60vw;height:4rem;bottom:0rem;left:20vw;cursor:pointer'></div>"),$("#aniControlsOuter").append("<div id='aniControlsInner' style='overflow:visible;position:absolute;left:7.5rem;right:7.5rem;height:4rem;top:0rem;padding:0.2rem;cursor:pointer'></div>"),$("#aniControlsInner").append("<div id='aniBarOuter' style='border:0.2rem solid "+viewerSettings.frontColorStr+";overflow:visible;position:absolute;left:0rem;right:0rem;height:1rem;top:1rem;cursor:pointer'></div>"),initTouch($("#aniControlsInner").get(0)),$("#aniControlsInner").get(0).myMouseEvent=function(e,t){var a;t<$("#aniBarOuter").offset().top||(a=activeModel.animationPlayback.keys[0].frame,t=activeModel.animationPlayback.keys[activeModel.animationPlayback.keys.length-1].frame,e=100*(e-$("#aniBarOuter").offset().left)/$("#aniBarOuter").width(),a=Math.round(e/100*(t-a)+a),aniPauseBtnClicked(),animateToFrame(a))},$("#aniControlsInner").mousedown(function(e){this.myMouseIsDown=!0,this.myMouseEvent(e.pageX,e.pageY)}),$("#aniControlsInner").mouseup(function(e){this.myMouseIsDown=!1,this.myMouseEvent(e.pageX,e.pageY)}),$("#aniControlsInner").mousemove(function(e){this.myMouseIsDown&&this.myMouseEvent(e.pageX,e.pageY)});var a="<svg xmlns='http://www.w3.org/2000/svg' id='aniPlayBtn' style='position:absolute;width:3rem;height:3rem;top:0rem;left:0rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+"  d='M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniPlayBtn").on("click",aniPlayBtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniPauseBtn' style='position:absolute;width:3rem;height:3rem;top:0rem;left:0rem;display:none;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M13,16V8H15V16H13M9,16V8H11V16H9M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniPauseBtn").on("click",aniPauseBtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniStepBtn' style='position:absolute;width:3rem;height:3rem;top:0rem;left:3.5rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M8,8V16L13,12M14,8V16H16V8'></path></svg>";$("#aniControlsOuter").append(a),$("#aniStepBtn").on("click",aniStepBtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniRepeatBtn' style='position:absolute;width:3rem;height:3rem;top:0rem;right:0rem;display:none;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M17,17H7V14L3,18L7,22V19H19V13H17M7,7H17V10L21,6L17,2V5H5V11H7V7Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniRepeatBtn").on("click",aniRepeatBtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniNoRepeatBtn' style='position:absolute;width:3rem;height:3rem;top:0rem;right:0rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M2,5.27L3.28,4L20,20.72L18.73,22L15.73,19H7V22L3,18L7,14V17H13.73L7,10.27V11H5V8.27L2,5.27M17,13H19V17.18L17,15.18V13M17,5V2L21,6L17,10V7H8.82L6.82,5H17Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniNoRepeatBtn").on("click",aniNoRepeatBtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniSpeed0Btn' style='position:absolute;width:3rem;height:3rem;top:0rem;right:3.5rem;display:none;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='m 15,4 a 8,8 0 0 1 8,8 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 m 0,2 a 6,6 0 0 0 -6,6 6,6 0 0 0 6,6 6,6 0 0 0 6,-6 6,6 0 0 0 -6,-6 m -1,2 h 1.5 v 3.78 l 2.33,2.33 -1.06,1.06 L 14,12.4 V 8 M 2,18 A 1,1 0 0 1 1,17 1,1 0 0 1 2,16 H 5.83 C 6.14,16.71 6.54,17.38 7,18 H 2 m 1,-5 z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniSpeed0Btn").on("click",aniSpeed0BtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniSpeed1Btn' style='position:absolute;width:3rem;height:3rem;top:0rem;right:3.5rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='m 15,4 a 8,8 0 0 1 8,8 8,8 0 0 1 -8,8 8,8 0 0 1 -8,-8 8,8 0 0 1 8,-8 m 0,2 a 6,6 0 0 0 -6,6 6,6 0 0 0 6,6 6,6 0 0 0 6,-6 6,6 0 0 0 -6,-6 m -1,2 h 1.5 v 3.78 l 2.33,2.33 -1.06,1.06 L 14,12.4 V 8 M 2,18 A 1,1 0 0 1 1,17 1,1 0 0 1 2,16 H 5.83 C 6.14,16.71 6.54,17.38 7,18 H 2 M 3,13 A 1,1 0 0 1 2,12 1,1 0 0 1 3,11 H 5.05 L 5,12 5.05,13 H 3 M 4,8 Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniSpeed1Btn").on("click",aniSpeed1BtnClicked);a="<svg xmlns='http://www.w3.org/2000/svg' id='aniSpeed2Btn' style='position:absolute;width:3rem;height:3rem;top:0rem;right:3.5rem;display:none;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M15,4A8,8 0 0,1 23,12A8,8 0 0,1 15,20A8,8 0 0,1 7,12A8,8 0 0,1 15,4M15,6A6,6 0 0,0 9,12A6,6 0 0,0 15,18A6,6 0 0,0 21,12A6,6 0 0,0 15,6M14,8H15.5V11.78L17.83,14.11L16.77,15.17L14,12.4V8M2,18A1,1 0 0,1 1,17A1,1 0 0,1 2,16H5.83C6.14,16.71 6.54,17.38 7,18H2M3,13A1,1 0 0,1 2,12A1,1 0 0,1 3,11H5.05L5,12L5.05,13H3M4,8A1,1 0 0,1 3,7A1,1 0 0,1 4,6H7C6.54,6.62 6.14,7.29 5.83,8H4Z'></path></svg>";$("#aniControlsOuter").append(a),$("#aniSpeed2Btn").on("click",aniSpeed2BtnClicked);for(var i=activeModel.animationPlayback.getKeyCount(),o=activeModel.animationPlayback.getFirstKey().frame,n=activeModel.animationPlayback.getLastKey().frame,l=0,c=0;c<i;c++){var r,s=activeModel.animationPlayback.getKey(c).frame,d=100*(s-o)/(n-o),v="aniMarkerBtn"+c,m=c%100;0==m?r="M 16.703,11.99 Q 16.703,16.267 15.591,18.665 14.478,21.063 11.932,21.063 10.399,21.063 9.336,20.198 8.273,19.308 7.729,17.33 7.185,15.327 7.185,11.99 7.185,7.49 8.322,5.215 9.484,2.916 11.932,2.916 14.33,2.916 15.517,5.215 16.703,7.515 16.703,11.99 Z M 9.311,11.99 Q 9.311,15.624 9.904,17.404 10.522,19.184 11.932,19.184 13.341,19.184 13.959,17.404 14.577,15.599 14.577,11.99 14.577,8.38 13.959,6.575 13.341,4.77 11.932,4.77 10.522,4.77 9.904,6.575 9.311,8.355 9.311,11.99 Z":1==m?r="M 14.936,20.816 H 12.859 V 8.8 Q 12.859,7.91 12.884,7.144 12.908,6.353 12.958,5.561 12.735,5.833 12.438,6.13 12.167,6.427 11.746,6.822 L 10.114,8.306 8.952,6.995 13.155,3.163 H 14.936 Z":2==m?r="M 16.703,20.816 H 7.185 V 19.209 L 10.992,14.215 Q 12.129,12.756 12.822,11.693 13.514,10.605 13.811,9.641 14.132,8.652 14.132,7.515 14.132,6.254 13.465,5.512 12.797,4.77 11.586,4.77 10.646,4.77 9.904,5.116 9.187,5.438 8.421,6.13 L 7.308,4.696 Q 8.297,3.806 9.336,3.361 10.374,2.916 11.684,2.916 13.811,2.916 15.022,4.152 16.258,5.388 16.258,7.416 16.258,8.825 15.863,10.012 15.467,11.174 14.701,12.336 13.934,13.498 12.822,14.882 L 9.682,18.838 V 18.937 H 16.703 Z":3==m?r="M 16.295,7.243 Q 16.295,8.85 15.479,9.962 14.664,11.075 13.155,11.545 V 11.643 Q 14.886,11.965 15.776,13.077 16.666,14.19 16.666,15.921 16.666,18.22 15.282,19.654 13.897,21.063 11.252,21.063 10.065,21.063 9.101,20.865 8.137,20.692 7.247,20.272 V 18.22 Q 9.101,19.258 11.103,19.258 12.859,19.258 13.675,18.319 14.491,17.379 14.491,15.822 14.491,12.608 10.485,12.608 H 9.348 V 10.803 H 10.559 Q 12.29,10.803 13.23,9.888 14.194,8.949 14.194,7.44 14.194,6.13 13.502,5.438 12.834,4.721 11.598,4.721 10.559,4.721 9.793,5.092 9.027,5.438 8.235,6.056 L 7.222,4.597 Q 8.186,3.757 9.299,3.336 10.411,2.916 11.771,2.916 13.947,2.916 15.109,4.103 16.295,5.289 16.295,7.243 Z":4==m?r="M 17.358,16.934 H 15.306 V 20.816 H 13.254 V 16.934 H 6.53 V 15.204 L 13.106,3.04 H 15.306 V 15.129 H 17.358 Z M 13.254,15.129 V 8.751 Q 13.254,7.96 13.279,7.094 13.304,6.229 13.353,5.611 H 13.254 Q 13.057,6.155 12.809,6.699 12.587,7.218 12.364,7.688 L 8.458,15.129 Z":5==m?r="M 11.734,9.962 Q 13.959,9.962 15.245,11.396 16.53,12.805 16.53,15.154 16.53,17.824 15.096,19.456 13.662,21.063 10.992,21.063 8.718,21.063 7.358,20.247 V 18.195 Q 8.124,18.69 9.064,18.962 10.003,19.234 10.893,19.234 12.599,19.234 13.489,18.121 14.404,17.008 14.404,15.253 14.404,13.522 13.539,12.632 12.673,11.742 11.017,11.742 10.399,11.742 9.731,11.866 9.064,11.965 8.495,12.138 L 7.58,11.371 8.149,3.163 H 15.492 V 5.067 H 9.929 L 9.558,10.209 Q 10.053,10.111 10.597,10.036 11.165,9.962 11.734,9.962 Z":6==m?r="M 7.222,13.3 Q 7.222,10.234 7.815,7.91 8.409,5.561 9.818,4.251 11.252,2.916 13.675,2.916 14.194,2.916 14.688,2.99 15.208,3.064 15.628,3.163 V 5.017 Q 14.812,4.721 13.749,4.721 11.474,4.721 10.411,6.575 9.373,8.429 9.274,11.693 H 9.373 Q 9.842,10.778 10.634,10.234 11.425,9.69 12.562,9.69 13.897,9.69 14.812,10.407 15.727,11.1 16.196,12.36 16.666,13.597 16.666,15.204 16.666,16.91 16.122,18.245 15.603,19.555 14.589,20.321 13.576,21.063 12.092,21.063 9.867,21.063 8.532,19.085 7.222,17.107 7.222,13.3 Z M 12.068,19.209 Q 13.23,19.209 13.897,18.245 14.589,17.256 14.589,15.228 14.589,13.399 13.947,12.435 13.329,11.47 12.092,11.47 11.227,11.47 10.609,11.915 10.016,12.36 9.694,13.077 9.373,13.794 9.373,14.561 9.373,15.599 9.645,16.687 9.917,17.75 10.51,18.492 11.103,19.209 12.068,19.209 Z":7==m?r="M 8.792,20.816 14.701,5.092 H 7.036 V 3.163 H 16.852 V 4.746 L 11.017,20.816 Z":8==m?r="M 11.969,2.916 Q 13.996,2.916 15.183,4.029 16.394,5.141 16.394,7.07 16.394,8.578 15.603,9.69 14.837,10.778 13.452,11.569 14.911,12.459 15.875,13.547 16.839,14.635 16.839,16.316 16.839,18.442 15.529,19.753 14.219,21.063 12.043,21.063 9.645,21.063 8.334,19.802 7.049,18.541 7.049,16.415 7.049,14.783 7.865,13.621 8.705,12.459 10.189,11.619 8.903,10.704 8.211,9.616 7.518,8.504 7.518,7.094 7.518,5.141 8.755,4.029 9.991,2.916 11.969,2.916 Z M 11.919,4.647 Q 10.856,4.647 10.213,5.339 9.571,6.006 9.571,7.193 9.571,8.405 10.189,9.171 10.831,9.938 11.944,10.605 13.106,9.938 13.699,9.146 14.317,8.355 14.317,7.193 14.317,6.006 13.675,5.339 13.032,4.647 11.919,4.647 Z M 9.126,16.415 Q 9.126,17.676 9.842,18.517 10.559,19.333 11.944,19.333 13.329,19.333 14.046,18.492 14.763,17.651 14.763,16.316 14.763,15.278 14.095,14.437 13.452,13.572 12.167,12.83 L 11.697,12.533 Q 10.337,13.3 9.719,14.215 9.126,15.129 9.126,16.415 Z":9==m?r="M 16.666,10.556 Q 16.666,13.646 16.048,16.02 15.43,18.368 13.996,19.728 12.587,21.063 10.164,21.063 9.694,21.063 9.101,20.989 8.532,20.915 8.161,20.816 V 18.937 Q 8.582,19.085 9.076,19.184 9.571,19.258 10.114,19.258 11.375,19.258 12.216,18.69 13.057,18.121 13.551,17.157 14.07,16.168 14.317,14.932 14.565,13.671 14.614,12.311 H 14.491 Q 14.046,13.201 13.23,13.745 12.438,14.289 11.301,14.289 9.966,14.289 9.051,13.597 8.137,12.88 7.667,11.643 7.222,10.383 7.222,8.8 7.222,7.094 7.741,5.784 8.285,4.449 9.323,3.682 10.362,2.916 11.895,2.916 14.07,2.916 15.356,4.869 16.666,6.822 16.666,10.556 Z M 11.87,4.77 Q 10.658,4.77 9.991,5.759 9.323,6.723 9.323,8.751 9.323,10.58 9.941,11.545 10.559,12.509 11.796,12.509 12.686,12.509 13.304,12.039 13.922,11.569 14.219,10.828 14.54,10.086 14.54,9.27 14.54,8.602 14.392,7.836 14.268,7.045 13.947,6.353 13.65,5.66 13.131,5.215 12.636,4.77 11.87,4.77 Z":(0==(m=m-(p=m%10))?r="M 11.361,12.02 Q 11.361,16.297 10.248,18.695 9.135,21.093 6.589,21.093 5.056,21.093 3.993,20.228 2.93,19.338 2.386,17.36 1.842,15.357 1.842,12.02 1.842,7.52 2.979,5.245 4.141,2.946 6.589,2.946 8.987,2.946 10.174,5.245 11.361,7.545 11.361,12.02 Z M 3.968,12.02 Q 3.968,15.654 4.562,17.434 5.18,19.214 6.589,19.214 7.998,19.214 8.616,17.434 9.234,15.629 9.234,12.02 9.234,8.41 8.616,6.605 7.998,4.8 6.589,4.8 5.18,4.8 4.562,6.605 3.968,8.385 3.968,12.02 Z":10==m?r="M 11.361,20.846 H 9.284 V 8.83 Q 9.284,7.94 9.309,7.174 9.333,6.383 9.383,5.592 9.16,5.863 8.864,6.16 8.592,6.457 8.171,6.852 L 6.54,8.336 5.377,7.025 9.581,3.193 H 11.361 Z":20==m?r="M 11.361,20.846 H 1.842 V 19.239 L 5.649,14.245 Q 6.787,12.786 7.479,11.723 8.171,10.635 8.468,9.671 8.789,8.682 8.789,7.545 8.789,6.284 8.122,5.542 7.454,4.8 6.243,4.8 5.303,4.8 4.562,5.146 3.845,5.468 3.078,6.16 L 1.966,4.726 Q 2.955,3.836 3.993,3.391 5.031,2.946 6.342,2.946 8.468,2.946 9.679,4.182 10.916,5.418 10.916,7.446 10.916,8.855 10.52,10.042 10.124,11.204 9.358,12.366 8.592,13.528 7.479,14.912 L 4.339,18.868 V 18.967 H 11.361 Z":30==m?r="M 10.99,7.273 Q 10.99,8.88 10.174,9.992 9.358,11.105 7.85,11.575 V 11.674 Q 9.581,11.995 10.471,13.108 11.361,14.22 11.361,15.951 11.361,18.25 9.976,19.684 8.592,21.093 5.946,21.093 4.759,21.093 3.795,20.895 2.831,20.722 1.941,20.302 V 18.25 Q 3.795,19.288 5.798,19.288 7.553,19.288 8.369,18.349 9.185,17.409 9.185,15.852 9.185,12.638 5.18,12.638 H 4.042 V 10.833 H 5.254 Q 6.985,10.833 7.924,9.918 8.888,8.979 8.888,7.471 8.888,6.16 8.196,5.468 7.528,4.751 6.292,4.751 5.254,4.751 4.487,5.122 3.721,5.468 2.93,6.086 L 1.916,4.627 Q 2.88,3.787 3.993,3.366 5.106,2.946 6.465,2.946 8.641,2.946 9.803,4.133 10.99,5.32 10.99,7.273 Z":40==m?r="M 11.361,16.964 H 9.309 V 20.846 H 7.256 V 16.964 H 0.532 V 15.234 L 7.108,3.07 H 9.309 V 15.16 H 11.361 Z M 7.256,15.16 V 8.781 Q 7.256,7.99 7.281,7.124 7.306,6.259 7.355,5.641 H 7.256 Q 7.059,6.185 6.811,6.729 6.589,7.248 6.366,7.718 L 2.46,15.16 Z":50==m?r="M 6.564,9.992 Q 8.789,9.992 10.075,11.426 11.361,12.836 11.361,15.184 11.361,17.854 9.927,19.486 8.493,21.093 5.823,21.093 3.548,21.093 2.188,20.277 V 18.225 Q 2.955,18.72 3.894,18.992 4.834,19.264 5.724,19.264 7.43,19.264 8.32,18.151 9.234,17.039 9.234,15.283 9.234,13.553 8.369,12.662 7.504,11.772 5.847,11.772 5.229,11.772 4.562,11.896 3.894,11.995 3.325,12.168 L 2.411,11.402 2.979,3.193 H 10.322 V 5.097 H 4.759 L 4.389,10.24 Q 4.883,10.141 5.427,10.066 5.996,9.992 6.564,9.992 Z":60==m?r="M 1.916,13.33 Q 1.916,10.264 2.51,7.94 3.103,5.592 4.512,4.281 5.946,2.946 8.369,2.946 8.888,2.946 9.383,3.02 9.902,3.094 10.322,3.193 V 5.048 Q 9.506,4.751 8.443,4.751 6.169,4.751 5.106,6.605 4.067,8.459 3.968,11.723 H 4.067 Q 4.537,10.808 5.328,10.264 6.119,9.72 7.256,9.72 8.592,9.72 9.506,10.437 10.421,11.13 10.891,12.391 11.361,13.627 11.361,15.234 11.361,16.94 10.817,18.275 10.298,19.585 9.284,20.352 8.27,21.093 6.787,21.093 4.562,21.093 3.227,19.115 1.916,17.137 1.916,13.33 Z M 6.762,19.239 Q 7.924,19.239 8.592,18.275 9.284,17.286 9.284,15.258 9.284,13.429 8.641,12.465 8.023,11.5 6.787,11.5 5.921,11.5 5.303,11.945 4.71,12.391 4.389,13.108 4.067,13.824 4.067,14.591 4.067,15.629 4.339,16.717 4.611,17.78 5.204,18.522 5.798,19.239 6.762,19.239 Z":70==m?r="M 3.301,20.846 9.21,5.122 H 1.545 V 3.193 H 11.361 V 4.776 L 5.526,20.846 Z":80==m?r="M 6.49,2.946 Q 8.517,2.946 9.704,4.059 10.916,5.171 10.916,7.1 10.916,8.608 10.124,9.72 9.358,10.808 7.973,11.599 9.432,12.489 10.396,13.577 11.361,14.665 11.361,16.346 11.361,18.473 10.05,19.783 8.74,21.093 6.564,21.093 4.166,21.093 2.856,19.832 1.57,18.571 1.57,16.445 1.57,14.813 2.386,13.651 3.227,12.489 4.71,11.649 3.424,10.734 2.732,9.646 2.04,8.534 2.04,7.124 2.04,5.171 3.276,4.059 4.512,2.946 6.49,2.946 Z M 6.441,4.677 Q 5.377,4.677 4.735,5.369 4.092,6.037 4.092,7.223 4.092,8.435 4.71,9.201 5.353,9.968 6.465,10.635 7.627,9.968 8.221,9.176 8.839,8.385 8.839,7.223 8.839,6.037 8.196,5.369 7.553,4.677 6.441,4.677 Z M 3.647,16.445 Q 3.647,17.706 4.364,18.547 5.081,19.363 6.465,19.363 7.85,19.363 8.567,18.522 9.284,17.681 9.284,16.346 9.284,15.308 8.616,14.467 7.973,13.602 6.688,12.86 L 6.218,12.564 Q 4.858,13.33 4.24,14.245 3.647,15.16 3.647,16.445 Z":90==m&&(r="M 11.361,10.586 Q 11.361,13.676 10.743,16.05 10.124,18.398 8.69,19.758 7.281,21.093 4.858,21.093 4.389,21.093 3.795,21.019 3.227,20.945 2.856,20.846 V 18.967 Q 3.276,19.115 3.77,19.214 4.265,19.288 4.809,19.288 6.07,19.288 6.91,18.72 7.751,18.151 8.245,17.187 8.765,16.198 9.012,14.962 9.259,13.701 9.309,12.341 H 9.185 Q 8.74,13.231 7.924,13.775 7.133,14.319 5.996,14.319 4.661,14.319 3.746,13.627 2.831,12.91 2.361,11.674 1.916,10.413 1.916,8.83 1.916,7.124 2.435,5.814 2.979,4.479 4.018,3.713 5.056,2.946 6.589,2.946 8.765,2.946 10.05,4.899 11.361,6.852 11.361,10.586 Z M 6.564,4.8 Q 5.353,4.8 4.685,5.789 4.018,6.754 4.018,8.781 4.018,10.61 4.636,11.575 5.254,12.539 6.49,12.539 7.38,12.539 7.998,12.069 8.616,11.599 8.913,10.858 9.234,10.116 9.234,9.3 9.234,8.633 9.086,7.866 8.962,7.075 8.641,6.383 8.344,5.69 7.825,5.245 7.331,4.8 6.564,4.8 Z"),0==p?r+="M 22.112,12.02 Q 22.112,16.297 20.999,18.695 19.887,21.093 17.34,21.093 15.807,21.093 14.744,20.228 13.681,19.338 13.137,17.36 12.593,15.357 12.593,12.02 12.593,7.52 13.73,5.245 14.892,2.946 17.34,2.946 19.738,2.946 20.925,5.245 22.112,7.545 22.112,12.02 Z M 14.719,12.02 Q 14.719,15.654 15.313,17.434 15.931,19.214 17.34,19.214 18.749,19.214 19.367,17.434 19.985,15.629 19.985,12.02 19.985,8.41 19.367,6.605 18.749,4.8 17.34,4.8 15.931,4.8 15.313,6.605 14.719,8.385 14.719,12.02 Z":1==p?r+="M 18.576,20.846 H 16.499 V 8.83 Q 16.499,7.94 16.524,7.174 16.549,6.383 16.598,5.592 16.376,5.863 16.079,6.16 15.807,6.457 15.387,6.852 L 13.755,8.336 12.593,7.025 16.796,3.193 H 18.576 Z":2==p?r+="M 22.112,20.846 H 12.593 V 19.239 L 16.401,14.245 Q 17.538,12.786 18.23,11.723 18.922,10.635 19.219,9.671 19.54,8.682 19.54,7.545 19.54,6.284 18.873,5.542 18.205,4.8 16.994,4.8 16.054,4.8 15.313,5.146 14.596,5.468 13.829,6.16 L 12.717,4.726 Q 13.706,3.836 14.744,3.391 15.782,2.946 17.093,2.946 19.219,2.946 20.43,4.182 21.667,5.418 21.667,7.446 21.667,8.855 21.271,10.042 20.876,11.204 20.109,12.366 19.343,13.528 18.23,14.912 L 15.09,18.868 V 18.967 H 22.112 Z":3==p?r+="M 21.667,7.273 Q 21.667,8.88 20.851,9.992 20.035,11.105 18.527,11.575 V 11.674 Q 20.257,11.995 21.147,13.108 22.038,14.22 22.038,15.951 22.038,18.25 20.653,19.684 19.268,21.093 16.623,21.093 15.436,21.093 14.472,20.895 13.508,20.722 12.618,20.302 V 18.25 Q 14.472,19.288 16.475,19.288 18.23,19.288 19.046,18.349 19.862,17.409 19.862,15.852 19.862,12.638 15.857,12.638 H 14.719 V 10.833 H 15.931 Q 17.661,10.833 18.601,9.918 19.565,8.979 19.565,7.471 19.565,6.16 18.873,5.468 18.205,4.751 16.969,4.751 15.931,4.751 15.164,5.122 14.398,5.468 13.607,6.086 L 12.593,4.627 Q 13.557,3.787 14.67,3.366 15.782,2.946 17.142,2.946 19.318,2.946 20.48,4.133 21.667,5.32 21.667,7.273 Z":4==p?r+="M 23.422,16.964 H 21.37 V 20.846 H 19.318 V 16.964 H 12.593 V 15.234 L 19.17,3.07 H 21.37 V 15.16 H 23.422 Z M 19.318,15.16 V 8.781 Q 19.318,7.99 19.343,7.124 19.367,6.259 19.417,5.641 H 19.318 Q 19.12,6.185 18.873,6.729 18.65,7.248 18.428,7.718 L 14.522,15.16 Z":5==p?r+="M 16.969,9.992 Q 19.194,9.992 20.48,11.426 21.766,12.836 21.766,15.184 21.766,17.854 20.332,19.486 18.898,21.093 16.227,21.093 13.953,21.093 12.593,20.277 V 18.225 Q 13.36,18.72 14.299,18.992 15.239,19.264 16.129,19.264 17.835,19.264 18.725,18.151 19.639,17.039 19.639,15.283 19.639,13.553 18.774,12.662 17.909,11.772 16.252,11.772 15.634,11.772 14.967,11.896 14.299,11.995 13.73,12.168 L 12.816,11.402 13.384,3.193 H 20.727 V 5.097 H 15.164 L 14.793,10.24 Q 15.288,10.141 15.832,10.066 16.401,9.992 16.969,9.992 Z":6==p?r+="M 12.593,13.33 Q 12.593,10.264 13.186,7.94 13.78,5.592 15.189,4.281 16.623,2.946 19.046,2.946 19.565,2.946 20.06,3.02 20.579,3.094 20.999,3.193 V 5.048 Q 20.183,4.751 19.12,4.751 16.846,4.751 15.782,6.605 14.744,8.459 14.645,11.723 H 14.744 Q 15.214,10.808 16.005,10.264 16.796,9.72 17.933,9.72 19.268,9.72 20.183,10.437 21.098,11.13 21.568,12.391 22.038,13.627 22.038,15.234 22.038,16.94 21.494,18.275 20.974,19.585 19.961,20.352 18.947,21.093 17.464,21.093 15.239,21.093 13.903,19.115 12.593,17.137 12.593,13.33 Z M 17.439,19.239 Q 18.601,19.239 19.268,18.275 19.961,17.286 19.961,15.258 19.961,13.429 19.318,12.465 18.7,11.5 17.464,11.5 16.598,11.5 15.98,11.945 15.387,12.391 15.065,13.108 14.744,13.824 14.744,14.591 14.744,15.629 15.016,16.717 15.288,17.78 15.881,18.522 16.475,19.239 17.439,19.239 Z":7==p?r+="M 14.348,20.846 20.257,5.122 H 12.593 V 3.193 H 22.408 V 4.776 L 16.574,20.846 Z":8==p?r+="M 17.513,2.946 Q 19.54,2.946 20.727,4.059 21.939,5.171 21.939,7.1 21.939,8.608 21.147,9.72 20.381,10.808 18.997,11.599 20.455,12.489 21.419,13.577 22.384,14.665 22.384,16.346 22.384,18.473 21.073,19.783 19.763,21.093 17.587,21.093 15.189,21.093 13.879,19.832 12.593,18.571 12.593,16.445 12.593,14.813 13.409,13.651 14.25,12.489 15.733,11.649 14.447,10.734 13.755,9.646 13.063,8.534 13.063,7.124 13.063,5.171 14.299,4.059 15.535,2.946 17.513,2.946 Z M 17.464,4.677 Q 16.401,4.677 15.758,5.369 15.115,6.037 15.115,7.223 15.115,8.435 15.733,9.201 16.376,9.968 17.488,10.635 18.65,9.968 19.244,9.176 19.862,8.385 19.862,7.223 19.862,6.037 19.219,5.369 18.576,4.677 17.464,4.677 Z M 14.67,16.445 Q 14.67,17.706 15.387,18.547 16.104,19.363 17.488,19.363 18.873,19.363 19.59,18.522 20.307,17.681 20.307,16.346 20.307,15.308 19.639,14.467 18.997,13.602 17.711,12.86 L 17.241,12.564 Q 15.881,13.33 15.263,14.245 14.67,15.16 14.67,16.445 Z":9==p&&(r+="M 22.038,10.586 Q 22.038,13.676 21.419,16.05 20.801,18.398 19.367,19.758 17.958,21.093 15.535,21.093 15.065,21.093 14.472,21.019 13.903,20.945 13.533,20.846 V 18.967 Q 13.953,19.115 14.447,19.214 14.942,19.288 15.486,19.288 16.747,19.288 17.587,18.72 18.428,18.151 18.922,17.187 19.442,16.198 19.689,14.962 19.936,13.701 19.985,12.341 H 19.862 Q 19.417,13.231 18.601,13.775 17.81,14.319 16.672,14.319 15.337,14.319 14.423,13.627 13.508,12.91 13.038,11.674 12.593,10.413 12.593,8.83 12.593,7.124 13.112,5.814 13.656,4.479 14.695,3.713 15.733,2.946 17.266,2.946 19.442,2.946 20.727,4.899 22.038,6.852 22.038,10.586 Z M 17.241,4.8 Q 16.03,4.8 15.362,5.789 14.695,6.754 14.695,8.781 14.695,10.61 15.313,11.575 15.931,12.539 17.167,12.539 18.057,12.539 18.675,12.069 19.293,11.599 19.59,10.858 19.911,10.116 19.911,9.3 19.911,8.633 19.763,7.866 19.639,7.075 19.318,6.383 19.021,5.69 18.502,5.245 18.008,4.8 17.241,4.8 Z"));var p="<div style='overflow:visible;position:absolute;width:2rem;height:2rem;bottom:1.5rem;left:"+d+"%;cursor:pointer'><svg xmlns='http://www.w3.org/2000/svg' id='"+v+"' style='overflow:visible;position:absolute;height:2rem;width:2rem;left:-50%;bottom:0;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='"+r+"'></path></svg> </div>";$("#aniBarOuter").append(p),$("#"+v).get(0).animationFrameNr=s,$("#"+v).on("click",function(){aniPauseBtnClicked(),animateToFrame(this.animationFrameNr)});v=activeModel.animationPlayback.getKey(c).moves;1!==v&&3!==v||$("#aniBarOuter").append("<div style='background-color:"+e+";overflow:visible;position:absolute;top:0rem;height:0.5rem;left:"+l+"%;right:"+(100-d)+"%;margin:0 0.05rem'></div>"),2!==v&&3!==v||$("#aniBarOuter").append("<div style='background-color:"+e+";overflow:visible;position:absolute;top:0.5rem;height:0.5rem;left:"+l+"%;right:"+(100-d)+"%;margin:0 0.05rem'></div>"),l=d}a="<div id='aniBarPos' style='overflow:visible;position:absolute;width:3rem;height:3rem;top:-1rem;left:50%;cursor:pointer'><svg xmlns='http://www.w3.org/2000/svg' id='aniBarPosBtn' style='overflow:visible;position:absolute;height:3rem;width:3rem;left:-50%;top:0rem;cursor:pointer' viewBox='0 0 24 24'>  <path "+t+" d='M 11.2 8 L 11.2 16 L 8 20 L 16 20 L 12.8 16 L 12.8 8 L 16 4 L 8 4 L 11.2 8 z'></path></svg> </div>";$("#aniBarOuter").append(a),animateToFrame(n)}}function aniPlayBtnClicked(){$("#aniPlayBtn").css("display","none"),$("#aniPauseBtn").css("display","inline"),activeModel.animationPlayback.position===activeModel.animationPlayback.getLastKey().frame&&(activeModel.animationPlayback.position=activeModel.animationPlayback.getFirstKey().frame),activeModel.animationPlayback.playing=!0,window.requestAnimFrame(animationStep)}function aniPauseBtnClicked(){$("#aniPauseBtn").css("display","none"),$("#aniPlayBtn").css("display","inline"),activeModel.animationPlayback.playing=!1}function aniStepBtnClicked(){if(aniPauseBtnClicked(),activeModel.animationPlayback.position===activeModel.animationPlayback.getLastKey().frame)animateToFrame(activeModel.animationPlayback.getFirstKey().frame);else for(var e=activeModel.animationPlayback.getKeyCount(),t=activeModel.animationPlayback.position,a=0;a<e;a++){var i=activeModel.animationPlayback.getKey(a).frame;if(!(i<=t)){animateToFrame(i);break}}}function aniRepeatBtnClicked(){$("#aniRepeatBtn").css("display","none"),$("#aniNoRepeatBtn").css("display","inline"),activeModel.animationPlayback.repeat=!1}function aniNoRepeatBtnClicked(){$("#aniNoRepeatBtn").css("display","none"),$("#aniRepeatBtn").css("display","inline"),activeModel.animationPlayback.repeat=!0}function aniSpeed0BtnClicked(){$("#aniSpeed0Btn").css("display","none"),$("#aniSpeed1Btn").css("display","inline"),$("#aniSpeed2Btn").css("display","none"),activeModel.animationPlayback.speed=1}function aniSpeed1BtnClicked(){$("#aniSpeed0Btn").css("display","none"),$("#aniSpeed1Btn").css("display","none"),$("#aniSpeed2Btn").css("display","inline"),activeModel.animationPlayback.speed=2}function aniSpeed2BtnClicked(){$("#aniSpeed0Btn").css("display","inline"),$("#aniSpeed1Btn").css("display","none"),$("#aniSpeed2Btn").css("display","none"),activeModel.animationPlayback.speed=0}function animationStep(){if(activeModel.animationPlayback.playing){var e;if(activeModel.animationPlayback.position===activeModel.animationPlayback.getLastKey().frame){if(!activeModel.animationPlayback.repeat)return void aniPauseBtnClicked();e=activeModel.animationPlayback.getFirstKey().frame}else(e=activeModel.animationPlayback.position+5*activeModel.animationPlayback.speed+1)>activeModel.animationPlayback.getLastKey().frame&&(e=activeModel.animationPlayback.getLastKey().frame);window.requestAnimFrame(animationStep),animateToFrame(e)}}function animateToFrame(e){var t=activeModel.animationPlayback.getFirstKey().frame,a=activeModel.animationPlayback.getLastKey().frame,t=100*((e=a<(e=e<t?t:e)?a:e)-t)/(a-t);$("#aniBarPos").css("left",t+"%"),activeModel.animationPlayback.position=e;for(var i=activeModel.animationPlayback.getKeyCount(),o=activeModel.animationPlayback.position,n=0,l=0;l<i&&(n=l,!(o<=activeModel.animationPlayback.getKey(l).frame));l++);t="";"short"==activeModel.animationOverrides.commentStyle||"full"==activeModel.animationOverrides.commentStyle&&""==activeModel.comment?t=activeModel.animationPlayback.getKey(n).name:"full"==activeModel.animationOverrides.commentStyle&&(t=activeModel.comment+"<br/><br/>"+activeModel.animationPlayback.getKey(n).name),$("#aniText").html(t);for(var c=0;c<activeModel.objects.length;++c){var r=activeModel.objects[c];r.animation.setTransformationForFrame(r,e),r.animation.setVisibilityForFrame(r,e),r.animation.setColorForFrame(r,e),r.animation.setAlphaForFrame(r,e),r.animation.setVertexCoordinatesForFrame(r,e),r.animation.setVertexColorsForFrame(r,e)}updateAttachmentsStyle(activeModel.animationOverrides.attachmentsStyle,!0),updateTeethColorStyle(activeModel.animationOverrides.teethColorStyle,!0),updateMalocclusionStyle(activeModel.animationOverrides.malocclusionStyle,!0),renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility())}function startRenderLoop(){glScene.isRunning=!0,doRenderLoop()}function doRenderLoop(){glScene.isRunning&&(window.requestAnimFrame(doRenderLoop),renderFrame())}function stopRenderLoop(){glScene.isRunning=!1}function cameraToUpper(){glScene.skipGroups=[1],glScene.zoomFactor=1,glScene.translVec=vec3.fromValues(0,0,0),mat4.identity(glScene.rotMatrix),mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,-.5*Math.PI,vec3.fromValues(1,0,0)),renderFrame()}function cameraToFront(){glScene.skipGroups=[],glScene.zoomFactor=1,glScene.translVec=vec3.fromValues(0,0,0),mat4.identity(glScene.rotMatrix),renderFrame()}function cameraToLower(){glScene.skipGroups=[0],glScene.zoomFactor=1,glScene.translVec=vec3.fromValues(0,0,0),mat4.identity(glScene.rotMatrix),mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,.5*Math.PI,vec3.fromValues(1,0,0)),renderFrame()}function rotateCamera(){switch(glScene.viewDir=(glScene.viewDir+1)%6,mat4.identity(glScene.rotMatrix),glScene.viewDir){case 0:break;case 1:mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,.5*Math.PI,[0,1,0]);break;case 2:mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,Math.PI,[0,1,0]);break;case 3:mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,-.5*Math.PI,[0,1,0]);break;case 4:mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,-.5*Math.PI,[1,0,0]);break;case 5:mat4.rotate(glScene.rotMatrix,glScene.rotMatrix,.5*Math.PI,[1,0,0])}renderFrame()}function showInfo(){var e="";"de"==(navigator.language||navigator.userLanguage)?(0<activeModel.patientID.length&&(e+="Patienten ID:   \t"+activeModel.patientID+"\n"),0<activeModel.lastName.length&&(e+="Nachname:       \t"+activeModel.lastName+"\n"),0<activeModel.firstName.length&&(e+="Vorname:        \t"+activeModel.firstName+"\n"),0<activeModel.birthDate.length&&(e+="Geburtsdatum:   \t"+activeModel.birthDate+"\n"),0<activeModel.aquiredDate.length&&(e+="Aufnahmedatum:  \t"+activeModel.aquiredDate+"\n")):(0<activeModel.patientID.length&&(e+="Patient ID:     \t"+activeModel.patientID+"\n"),0<activeModel.lastName.length&&(e+="Last name:      \t"+activeModel.lastName+"\n"),0<activeModel.firstName.length&&(e+="First name:     \t"+activeModel.firstName+"\n"),0<activeModel.birthDate.length&&(e+="Date of birth:  \t"+activeModel.birthDate+"\n"),0<activeModel.aquiredDate.length&&(e+="Image Acq. Date:\t"+activeModel.aquiredDate+"\n")),alert(e+"\nCopyright 2021 by Image Instruments GmbH\nwww.image-instruments.de")}function toggleTeethColors(){if(null!==activeModel.animationPlayback)"normal"==activeModel.animationOverrides.teethColorStyle?activeModel.animationOverrides.teethColorStyle="hidden":activeModel.animationOverrides.teethColorStyle="normal",updateTeethColorStyle(activeModel.animationOverrides.teethColorStyle,!1),animateToFrame(activeModel.animationPlayback.position);else{for(var e="normal",t=0;t<activeModel.objects.length;++t){var a=activeModel.objects[t];if(11<=a.type&&a.type<=85){e=a.useTexture?"hidden":"normal";break}}updateTeethColorStyle(e,!1),renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility())}}function toggleAttachments(){if(null!==activeModel.animationPlayback)"normal"==activeModel.animationOverrides.attachmentsStyle?activeModel.animationOverrides.attachmentsStyle="hidden":"ghost"==activeModel.animationOverrides.attachmentsStyle?activeModel.animationOverrides.attachmentsStyle="normal":activeModel.animationOverrides.attachmentsStyle="ghost",updateAttachmentsStyle(activeModel.animationOverrides.attachmentsStyle,!1),animateToFrame(activeModel.animationPlayback.position);else{for(var e="ghost",t=0;t<activeModel.objects.length;++t){var a=activeModel.objects[t];if(107==a.type&&a.isVisible){e=.25==a.opacity?"normal":"hidden";break}}updateAttachmentsStyle(e,!1),renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility())}}function toggleMalocclusion(){if(null!==activeModel.animationPlayback)"ghost"==activeModel.animationOverrides.malocclusionStyle?activeModel.animationOverrides.malocclusionStyle="full":"full"==activeModel.animationOverrides.malocclusionStyle?activeModel.animationOverrides.malocclusionStyle="hidden":activeModel.animationOverrides.malocclusionStyle="ghost",updateMalocclusionStyle(activeModel.animationOverrides.malocclusionStyle,!1),animateToFrame(activeModel.animationPlayback.position);else{for(var e="normal",t=0;t<activeModel.objects.length;++t){var a=activeModel.objects[t];if(210==a.type||211==a.type){e=!a.isVisible||1==a.opacity?"ghost":.1==a.opacity?"full":"hidden";break}}updateMalocclusionStyle(e,!1),renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility())}}function toggleComment(){null!==activeModel.animationPlayback?("none"==activeModel.animationOverrides.commentStyle?""==activeModel.comment?activeModel.animationOverrides.commentStyle="full":activeModel.animationOverrides.commentStyle="short":"short"==activeModel.animationOverrides.commentStyle?activeModel.animationOverrides.commentStyle="full":activeModel.animationOverrides.commentStyle="none",animateToFrame(activeModel.animationPlayback.position)):""==$("#aniText").html()?$("#aniText").html(activeModel.comment):$("#aniText").html("")}function toggleClipping(){var e=getCameraViewMatrix(),t=mat3.create(),a=mat3.create(),i=vec3.create();mat3.fromMat4(t,e),mat3.invert(a,t),vec3.transformMat3(i,vec3.fromValues(1,0,0),a);e=-e[12],e=vec4.fromValues(i[0],i[1],i[2],e);4!=activeModel.ClipKind?(activeModel.ClipKind=4,activeModel.ClipPlaneCustom=e):vec3.equals(activeModel.ClipPlaneCustom,e)?vec4.negate(activeModel.ClipPlaneCustom,activeModel.ClipPlaneCustom):activeModel.ClipKind=0,renderFrame()}function toggleRuler(){glScene.gridOverlay.show=!glScene.gridOverlay.show,renderFrame()}function updateAttachmentsStyle(e,t){if(!t||"normal"!=e)for(var a=0;a<activeModel.objects.length;++a){var i=activeModel.objects[a];107==i.type&&("normal"==e?(t||(i.isVisible=!0),i.useFaceColor=!0,i.useBackColor=!0,i.opacity=1):"ghost"==e?(t||(i.isVisible=!0),i.useFaceColor=!1,i.useBackColor=!1,i.opacity=.25):"hidden"==e&&(i.isVisible=!1))}}function updateTeethColorStyle(e,t){if(!t||"normal"!=e)for(var a=0;a<activeModel.objects.length;++a){var i=activeModel.objects[a];i.type<11||85<i.type||(i.useTexture="normal"==e)}}function updateMalocclusionStyle(e,t){if(!t||"normal"!=e)for(var a=0;a<activeModel.objects.length;++a){var i=activeModel.objects[a];210!=i.type&&211!=i.type||("normal"==e?(i.isVisible=!0,i.useTexture=!0,i.useFaceColor=!1,i.useBackColor=!0,i.opacity=1):"ghost"==e?(i.isVisible=!0,i.faceColor.RGB=[0,.4,1],i.useTexture=!1,i.useFaceColor=!0,i.useBackColor=!1,i.opacity=.1):"full"==e?(i.isVisible=!0,i.faceColor.RGB=[0,.4,1],i.useTexture=!1,i.useFaceColor=!0,i.useBackColor=!1,i.opacity=.5):"hidden"==e&&(i.isVisible=!1))}}function uiEvent(e){var t=JSON.parse(e.data);if(void 0!==t&&void 0!==t.type){if("REPLACE_ICON"===t.type){if(void 0===t.id||void 0===t.part||void 0===t.value)return;e=document.getElementById(t.id);if(null==e)return;if("svg"!=e.tagName.toLowerCase())return;var a=e.firstElementChild;if(null==a||"path"!=a.tagName.toLowerCase())return;"viewBox"===t.part&&e.setAttribute("viewBox",t.value),"path"===t.part&&a.setAttribute("d",t.value)}if("ICONS_RIGHT"===t.type){if(void 0===t.value)return;$("#navIconContainer").css("left",""),$("#navIconContainer").css("right",t.value),$("#toolIconContainer").css("left","1rem")}if("ICONS_LEFT"===t.type){if(void 0===t.value)return;$("#navIconContainer").css("right",""),$("#navIconContainer").css("left",t.value),$("#toolIconContainer").css("right","1rem")}if("MAKE_TINY"===t.type&&($("#navIconContainer").css("display","none"),$("#toolIconContainer").css("display","none"),$("#infoBtn").css("display","none"),$("#canvasCenter").css("display","none")),"SCALE_UI"===t.type){if(void 0===t.percent)return;document.documentElement.style.fontSize=t.percent,onResize()}if("ATTACHMENT_STYLE"===t.type){if(void 0===t.value||"normal"!=t.value&&"ghost"!=t.value&&"hidden"!=t.value)return;updateAttachmentsStyle(t.value,!1),null!==activeModel.animationPlayback?(activeModel.animationOverrides.attachmentsStyle=t.value,animateToFrame(activeModel.animationPlayback.position)):(renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility()))}if("MALOCCLUSION_STYLE"===t.type){if(void 0===t.value||"normal"!=t.value&&"ghost"!=t.value&&"full"!=t.value&&"hidden"!=t.value)return;updateMalocclusionStyle(t.value,!1),null!==activeModel.animationPlayback?(activeModel.animationOverrides.malocclusionStyle=t.value,animateToFrame(activeModel.animationPlayback.position)):(renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility()))}if("TEETHCOLOR_STYLE"===t.type){if(void 0===t.value||"normal"!=t.value&&"hidden"!=t.value)return;updateTeethColorStyle(t.value,!1),null!==activeModel.animationPlayback?(activeModel.animationOverrides.teethColorStyle=t.value,animateToFrame(activeModel.animationPlayback.position)):(renderFrame(),glScene.showSceneOptions&&(unselectObjects(),updateObjectListVisibility()))}if("COMMENT_STYLE"===t.type){if(void 0===t.value||"full"!=t.value&&"short"!=t.value&&"none"!=t.value)return;null!==activeModel.animationPlayback?(activeModel.animationOverrides.commentStyle=t.value,animateToFrame(activeModel.animationPlayback.position)):$("#aniText").html("none"==t.value?"":activeModel.comment)}if("RULER_STYLE"===t.type){if(void 0===t.value||"none"!=t.value&&"ruler"!=t.value)return;glScene.gridOverlay.show="ruler"==t.value,renderFrame()}if("PLAY_TO"===t.type){if(void 0===t.key||null===activeModel.animationPlayback)return;if("first"==t.key.toLowerCase())animateToFrame(activeModel.animationPlayback.getFirstKey().frame);else if("last"==t.key.toLowerCase())animateToFrame(activeModel.animationPlayback.getLastKey().frame);else{a=parseInt(t.key);if(isNaN(a))return;animateToFrame(activeModel.animationPlayback.getKey(a).frame)}}if("CAMERA"===t.type&&(void 0!==t.zoom&&"reset"==t.zoom.toLowerCase()&&(glScene.zoomFactor=1),void 0!==t.transl&&"reset"==t.transl.toLowerCase()&&(glScene.translVec=vec3.fromValues(0,0,0)),void 0!==t.from?(glScene.viewDir=0,"right"==t.from.toLowerCase()?glScene.viewDir=1:"back"==t.from.toLowerCase()?glScene.viewDir=2:"left"==t.from.toLowerCase()?glScene.viewDir=3:"bottom"==t.from.toLowerCase()?glScene.viewDir=4:"top"==t.from.toLowerCase()&&(glScene.viewDir=5),glScene.viewDir=glScene.viewDir-1,rotateCamera()):renderFrame()),"HIDE_JAW"===t.type){if(void 0===t.jaw)return;"upper"==t.jaw.toLowerCase()?glScene.skipGroups=[0]:"lower"==t.jaw.toLowerCase()?glScene.skipGroups=[1]:glScene.skipGroups=[],renderFrame()}"CLIPPING"===t.type&&void 0!==t.side&&("left"==t.side.toLowerCase()?(activeModel.ClipKind=0,toggleClipping(),toggleClipping()):"right"==t.side.toLowerCase()?(activeModel.ClipKind=0,toggleClipping()):"none"==t.side.toLowerCase()?(activeModel.ClipKind=0,renderFrame()):"switch"==t.side.toLowerCase()&&toggleClipping())}}